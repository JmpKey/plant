<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="keywords" content="jaybird, firebird, jdbc, sql, database, java">
<title>Jaybird 5.0.6 Release Notes</title>
<style>
/*! Firebird documentation stylesheet, derived from Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
@import url(https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic|Noto+Serif:400,400italic,700,700italic|Droid+Sans+Mono:400,700&display=swap);
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:rgba(0,0,0,.85);font-weight:normal;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,h7,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,h7{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:bold;font-style:normal;color:rgba(0,0,0,.85);text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small,h7 small{font-size:60%;color:rgba(77,77,77,.85);line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6,h7{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:normal;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,h7{line-height:1.2}
    h1{font-size:2.75em}
    h2{font-size:2.3125em}
    h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
    h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#FFEFD5}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,h7{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong,h7 strong{font-weight:bold}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre,h1,h2,h3,#toctitle,h4,h5,h6,h7):not([class^=L])>code{font-size:.9375em;font-style:normal!important;background:inherit;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:normal}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:normal}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#preheader>div.fb-logo,#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:1.25em;padding-right:1.25em}
#preheader>div.fb-logo:before,#preheader > div.fb-logo:after,#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#preheader>div.fb-logo:after,#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:rgba(0,0,0,.85);font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
    body.toc2{padding-left:15em;padding-right:0}
    #toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
    #toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
    #toc.toc2>ul{font-size:.9em;margin-bottom:0}
    #toc.toc2 ul ul{margin-left:0;padding-left:1em}
    #toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
    body.toc2.toc-right{padding-left:0;padding-right:15em}
    body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
    #toc.toc2{width:20em}
    #toc.toc2 #toctitle{font-size:1.375em}
    #toc.toc2>ul{font-size:.95em}
    #toc.toc2 ul ul{padding-left:1.25em}
    body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
    .sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor,h7>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:normal}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before,h7>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover,h7:hover>a.anchor,h7>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link,h7>a.link{color:rgba(0,0,0,.85);text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover,h7>a.link:hover{color:rgba(0,0,0,.85)}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1.0625rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:rgba(0,0,0,.85);margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#FFFFF7}
.literalblock.output pre{color:#FFFFF7;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#FFFFF7}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:rgba(0,0,0,.85);text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
table.stripes-none>*>tr{background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#FFEFD5}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
dl dt code{font-weight:bold}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:normal;font-style:normal}
.unstyled dl dt code{font-weight:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
h1 code,h2 code,h3 code,#toctitle code,.sidebarblock>.content>.title code,h4 code,h5 code,h6 code,h7 code{font-size:inherit}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
div.sect1,div.sect2,div.sect3,div.sect4,div.sect5,div.sect6{margin-top:2em}
div#preheader>div.fb-docindex table{background-color:#f8f8f7;width:100%}
div#preheader table{border:none}
#tocbot{overflow-y:auto}
#tocbot>.toc-list{overflow:hidden;position:relative}
#tocbot>.toc-list li{list-style:none}
#tocbot .toc-list{margin:0;padding-left:10px}
@media screen {#tocbot a.toc-link{height:100%}
    #tocbot .is-collapsible{overflow:hidden}
    #tocbot .is-collapsed{max-height:0}
    #tocbot .is-position-fixed{position:fixed!important;top:0}
    #tocbot .is-active-link{font-weight:700}
    #tocbot .toc-link::before{background-color:#EEE;content:' ';display:inline-block;height:inherit;left:0;margin-top:-1px;position:absolute;width:2px}
    #tocbot .is-active-link::before{background-color:#54BC4B}}
@media print{#tocbot #tocbot a.toc-link.node-name--H4{display:none}}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
    html{font-size:80%}
    a{color:inherit!important;text-decoration:underline!important}
    a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
    a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
    abbr[title]{border-bottom:1px dotted}
    abbr[title]::after{content:" (" attr(title) ")"}
    pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
    thead{display:table-header-group}
    svg{max-width:100%}
    p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
    h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
    #header,#content,#footnotes,#footer{max-width:none}
    #toc,.sidebarblock,.exampleblock>.content{background:none!important}
    #toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
    body.book #header{text-align:center}
    body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
    body.book #header .details{border:0!important;display:block;padding:0!important}
    body.book #header .details span:first-child{margin-left:0!important}
    body.book #header .details br{display:block}
    body.book #header .details br+span::before{content:none!important}
    body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
    body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
    .listingblock code[data-lang]::before{display:block}
    #footer{padding:0 1.25em}
    .hide-on-print{display:none!important}
    .print-only{display:block!important}
    .hide-for-print{display:none!important}
    .show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
    .sect1{padding:0!important}
    .sect1+.sect1{border:0}
    #footer{background:none}
    #footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
<link rel="canonical" href="https://firebirdsql.org/docs/drivers/java/5.0.x/release_notes.html"/>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Jaybird 5.0.6 Release Notes</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#jaybird-5-0-x-changelog">1. Jaybird 5.0.x changelog</a>
<ul class="sectlevel2">
<li><a href="#jaybird-5-0-6-changelog">1.1. Jaybird 5.0.6</a></li>
<li><a href="#jaybird-5-0-5-changelog">1.2. Jaybird 5.0.5</a></li>
<li><a href="#jaybird-5-0-4-changelog">1.3. Jaybird 5.0.4</a></li>
<li><a href="#jaybird-5-0-3-changelog">1.4. Jaybird 5.0.3</a></li>
<li><a href="#jaybird-5-0-2-changelog">1.5. Jaybird 5.0.2</a></li>
<li><a href="#jaybird-5-0-1-changelog">1.6. Jaybird 5.0.1</a></li>
<li><a href="#jaybird-5-0-0-changelog">1.7. Jaybird 5.0.0</a></li>
<li><a href="#jaybird-5-0-0-beta-1-changelog">1.8. Jaybird 5.0.0-beta-1</a></li>
</ul>
</li>
<li><a href="#known-issues">2. Known issues</a></li>
<li><a href="#support">3. Support</a></li>
<li><a href="#general-notes">4. General Notes</a>
<ul class="sectlevel2">
<li><a href="#about-this-version">4.1. About this version</a></li>
<li><a href="#supported-firebird-versions">4.2. Supported Firebird versions</a></li>
<li><a href="#supported-java-versions">4.3. Supported Java versions</a></li>
<li><a href="#specification-support">4.4. Specification support</a></li>
</ul>
</li>
<li><a href="#getting-jaybird-5">5. Getting Jaybird 5</a>
<ul class="sectlevel2">
<li><a href="#jaybird-version_wo_target">5.1. Jaybird 5.0.6</a></li>
</ul>
</li>
<li><a href="#upgrading-from-jaybird-4-to-jaybird-5">6. Upgrading from Jaybird 4 to Jaybird 5</a>
<ul class="sectlevel2">
<li><a href="#maven-2">6.1. Maven</a></li>
<li><a href="#manual-install">6.2. Manual install</a></li>
<li><a href="#gotchas">6.3. Gotcha&#8217;s</a></li>
</ul>
</li>
<li><a href="#whats-new-in-jaybird-5">7. What&#8217;s new in Jaybird 5</a>
<ul class="sectlevel2">
<li><a href="#java-support">7.1. Java support</a></li>
<li><a href="#firebird-support">7.2. Firebird support</a></li>
<li><a href="#jca-removed">7.3. Java Connector Architecture (JCA) support removed</a></li>
<li><a href="#wirecrypt-chacha">7.4. ChaCha wire protocol encryption support</a></li>
<li><a href="#properties-changed">7.5. Changes to properties</a></li>
<li><a href="#unify-db-address">7.6. Unification of database and service addressing</a></li>
<li><a href="#jdbc-url-syntax">7.7. Changes to JDBC URL syntax</a></li>
<li><a href="#local-protocol-removed">7.8. Removal of LOCAL protocol implementation</a></li>
<li><a href="#stream-blobs-default">7.9. Stream blobs are now the default</a></li>
<li><a href="#generated-keys-parser-replaced">7.10. New parser for generated keys handling</a></li>
<li><a href="#server-batch-updates">7.11. Firebird 4.0 server-side batch updates</a></li>
<li><a href="#multirow-returning">7.12. Firebird 5.0 multi-row RETURNING support</a></li>
<li><a href="#scrollable-cursors">7.13. Firebird 5.0 scrollable cursor support</a></li>
<li><a href="#embedded-locator-service-provider">7.14. Firebird Embedded locator service provider (experimental)</a></li>
<li><a href="#table-statistics-manager">7.15. Table statistics of a connection (experimental)</a></li>
<li><a href="#potentially-breaking-changes">7.16. Potentially breaking changes</a></li>
<li><a href="#other-fixes-and-changes">7.17. Other fixes and changes</a></li>
<li><a href="#removal-of-deprecated-classes-and-packages">7.18. Removal of deprecated classes and packages</a></li>
</ul>
</li>
<li><a href="#compatibility-changes">8. Compatibility changes</a>
<ul class="sectlevel2">
<li><a href="#support-for-java-7-dropped">8.1. Support for Java 7 dropped</a></li>
<li><a href="#removal-of-javaeejakartaee-connector-architecture-jca">8.2. Removal of Java EE/Jakarta EE Connector Architecture (JCA)</a></li>
<li><a href="#changes-connection-props">8.3. Changes to connection properties</a></li>
<li><a href="#generated-keys-always">8.4. Generated keys support always available</a></li>
<li><a href="#batch-too-big">8.5. Batch execution error &#8220;Internal buffer overflow - batch too big&#8221;</a></li>
<li><a href="#metadata-compat-changes">8.6. Changes affecting metadata compatibility</a></li>
<li><a href="#removal-of-classes-packages-and-methods-without-deprecation">8.7. Removal of classes, packages and methods without deprecation</a></li>
<li><a href="#removal-of-deprecated-classes-packages-and-methods">8.8. Removal of deprecated classes, packages and methods</a></li>
<li><a href="#removal-of-udf-support-for-jdbc-escapes">8.9. Removal of UDF support for JDBC escapes</a></li>
<li><a href="#breaking-changes-internal-api">8.10. Breaking changes internal API</a></li>
<li><a href="#breaking-changes-unlikely">8.11. Unlikely breaking changes</a></li>
<li><a href="#breaking-changes-for-jaybird-6">8.12. Breaking changes for Jaybird 6</a></li>
</ul>
</li>
<li><a href="#compatibility-notes">9. Compatibility notes</a>
<ul class="sectlevel2">
<li><a href="#type-2-native-and-embedded-driver">9.1. Type 2 (native) and embedded driver</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="jaybird-5-0-x-changelog"><a class="anchor" href="#jaybird-5-0-x-changelog"></a>1. Jaybird 5.0.x changelog</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Changes per Jaybird 5 release.
See also <a href="#whats-new-in-jaybird-5">What&#8217;s new in Jaybird 5</a>.
For known issues, consult <a href="#known-issues">Known issues</a>.</p>
</div>
<div class="sect2">
<h3 id="jaybird-5-0-6-changelog"><a class="anchor" href="#jaybird-5-0-6-changelog"></a>1.1. Jaybird 5.0.6</h3>
<div class="paragraph">
<p>The following has been changed or fixed since Jaybird 5.0.5:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fixed: Exceptions during statement execution did not always complete the statement, which could delay transaction commit in auto-commit mode (<a href="https://github.com/FirebirdSQL/jaybird/issues/806">#806</a>)</p>
<div class="paragraph">
<p>This fix was backported from Jaybird 6.</p>
</div>
</li>
<li>
<p>Fixed: Closing a connection when the database was shutdown, or the connection was otherwise broken, could result in a <code>NullPointerException</code> (<a href="https://github.com/FirebirdSQL/jaybird/issues/812">#812</a>)</p>
<div class="paragraph">
<p>This fix was backported from Jaybird 6.</p>
</div>
</li>
<li>
<p>Fixed: Error &#8220;Column unknown; IND.RDB$CONDITION_SOURCE&#8221; when calling <code>DatabaseMetaData.getIndexInfo</code> on Firebird 5.0 with a Firebird 4.0 (ODS 13.0) database (<a href="https://github.com/FirebirdSQL/jaybird/issues/813">#813</a>)</p>
<div class="paragraph">
<p>The partial index metadata support introduced in Jaybird 5.0.5 did not take into account that Firebird 5.0 could also open a Firebird 4.0 database.</p>
</div>
</li>
<li>
<p>Fixed: Calling <code>ResultSet.wasNull()</code> when on the insert-row throws a <code>SQLException</code> instead of reporting the null-state of the last retrieved column (<a href="https://github.com/FirebirdSQL/jaybird/issues/816">#816</a>)</p>
<div class="paragraph">
<p>As part of this fix, we no longer check if <code>wasNull()</code> is called on a row, or after getting a column value, as the JDBC API does not require such check.
Instead, <code>false</code> is reported if not currently on a row, or if no column value was retrieved, and an exception is thrown if the result set is closed.
The value reported by <code>wasNull()</code> is reset to <code>false</code> on each cursor move (e.g. <code>next()</code>), and modified by each <code>get<em>XXX</em></code> call.</p>
</div>
</li>
<li>
<p>Fixed: Inserting a row into a result set backed by a server-side scrollable cursor could include the inserted row twice (<a href="https://github.com/FirebirdSQL/jaybird/issues/819">#819</a>)</p>
<div class="paragraph">
<p>This could happen if the insert was performed when the server-side cursor was not fully materialized (e.g. by inserting the row immediately after execute).
As the server-side cursor is only fully materialized on certain operations like requesting the cursor size, the inserted row could be included in the server-side cursor, as well as the local inserted rows collection.</p>
</div>
</li>
<li>
<p>Improvement: Updated JNA dependency to version 5.15.0 (<a href="https://github.com/FirebirdSQL/jaybird/issues/823">#823</a>)</p>
<div class="paragraph">
<p>If you use native or embedded connections, make sure the upgrade the JNA dependency to JNA 5.15.0 by replacing the JAR or updating the JNA (<code>net.java.dev.jna:jna</code>) version number in your build configuration.
In practice, Jaybird should still be able to work with JNA 5.12.1 (used in Jaybird 5.0.0&#8201;&#8212;&#8201;5.0.4), and JNA 5.14.0 (used in Jaybird 5.0.5).</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="jaybird-5-0-5-changelog"><a class="anchor" href="#jaybird-5-0-5-changelog"></a>1.2. Jaybird 5.0.5</h3>
<div class="paragraph">
<p>The following has been changed or fixed since Jaybird 5.0.4:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fixed: <code>FBResultSetMetaData.getPrecision</code> would always estimate the precision of <code>NUMERIC</code> or <code>DECIMAL</code> columns instead of obtaining the actual precision if the column position was 71 or higher (<a href="https://github.com/FirebirdSQL/jaybird/issues/731">#731</a>)</p>
<div class="paragraph">
<p>This fix was backported from Jaybird 6.</p>
</div>
</li>
<li>
<p>Optimized the query to retrieve extended field info for <code>ResultSetMetaData.getPrecision</code> to only retrieve columns of type <code>NUMERIC</code> or <code>DECIMAL</code> (<a href="https://github.com/FirebirdSQL/jaybird/issues/732">#732</a>)</p>
<div class="paragraph">
<p>This improvement was backported from Jaybird 6.</p>
</div>
</li>
<li>
<p>Fixed: <code>PreparedStatement.executeBatch()</code> of statement without parameters throws &#8220;Statement used in batch must have parameters [SQLState:07001, ISC error code:335545186]&#8221; on Firebird 4.0 or higher (<a href="https://github.com/FirebirdSQL/jaybird/issues/788">#788</a>)</p>
<div class="paragraph">
<p>Given the Firebird server-side batch facility doesn&#8217;t support executing parameterless statements, the implementation now falls back to emulated batch execution for this case.</p>
</div>
</li>
<li>
<p>New feature: <code>ResultSetMetaData.isAutoIncrement(int)</code> reports <code>true</code> for identity columns <strong>if</strong> Jaybird can identify the underlying table and column (<a href="https://github.com/FirebirdSQL/jaybird/issues/793">#793</a>)</p>
<div class="paragraph">
<p>This feature was backported from Jaybird 6.</p>
</div>
</li>
<li>
<p>New feature: Boolean connection property <code>extendedMetadata</code> (default <code>true</code>) to disable querying of extended metadata for <code>getPrecision(int)</code> and <code>isAutoIncrement(int)</code> of <code>ResultSetMetaData</code> (<a href="https://github.com/FirebirdSQL/jaybird/issues/795">#795</a>)</p>
<div class="paragraph">
<p>Disabling extended metadata may improve performance of these <code>ResultSetMetaData</code> methods in exchange for estimated precision information of <code>NUMERIC</code> and <code>DECIMAL</code> columns, and not being able to determine the auto-increment status of <code>INTEGER</code>, <code>BIGINT</code> or <code>SMALLINT</code> columns.</p>
</div>
<div class="paragraph">
<p>This feature was backported from Jaybird 6.</p>
</div>
</li>
<li>
<p>Improvement: The <code>FILTER_CONDITION</code> of <code>DatabaseMetaData.getIndexInfo</code> is populated for Firebird 5.0 partial indices (<a href="https://github.com/FirebirdSQL/jaybird/issues/797">#797</a>)</p>
<div class="paragraph">
<p>This improvement was backported from Jaybird 6.</p>
</div>
</li>
<li>
<p>Fixed: <code>ResultSet.isBeforeFirst()</code> and <code>ResultSet.isAfterLast()</code> should always report <code>false</code> for an empty result set (<a href="https://github.com/FirebirdSQL/jaybird/issues/807">#807</a>)</p>
</li>
<li>
<p>Improvement: <code>Statement.getResultSet</code> no longer throws a <code>SQLException</code> with message &#8220;Only one result set at a time/statement&#8221; if the current result set has already been returned by <code>executeQuery</code> or a previous call to <code>getResultSet</code> (<a href="https://github.com/FirebirdSQL/jaybird/issues/762">#762</a>)</p>
<div class="paragraph">
<p>Repeated calls to <code>getResultSet</code> will now return the current result set.
As part of this change implementations of <code>FirebirdStatement.getCurrentResultSet</code> now simply return <code>getResultSet</code>, and the <code>getCurrentResultSet</code> method has been deprecated for removal in Jaybird 7.</p>
</div>
<div class="paragraph">
<p>This improvement was backported from Jaybird 6.</p>
</div>
</li>
<li>
<p>Improvement: Updated JNA dependency to version 5.14.0 (<a href="https://github.com/FirebirdSQL/jaybird/issues/810">#810</a>)</p>
<div class="paragraph">
<p>If you use native or embedded connections, make sure the upgrade the JNA dependency to JNA 5.14.0 by replacing the JAR or updating the JNA (<code>net.java.dev.jna:jna</code>) version number in your build configuration.
In practice, Jaybird should still be able to work with JNA 5.12.1 (the version used in Jaybird 5.0.0&#8201;&#8212;&#8201;5.0.4).</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="jaybird-5-0-4-changelog"><a class="anchor" href="#jaybird-5-0-4-changelog"></a>1.3. Jaybird 5.0.4</h3>
<div class="paragraph">
<p>The following has been changed or fixed since Jaybird 5.0.3:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Firebird 5.0 is now formally supported</p>
</li>
<li>
<p>Fixed: Potential NPE when <code>warningMessageCallback</code> is <code>null</code> while reading operations or consuming packets (<a href="https://github.com/FirebirdSQL/jaybird/issues/778">#778</a>)</p>
<div class="paragraph">
<p>As part of this change, the constructor <code>AbstractWireOperations</code> now explicitly requires the <code>connection</code> and <code>defaultWarningMessageCallback</code> to be non-<code>null</code> and throws a <code>NullPointerException</code> otherwise.
This may affect custom protocol implementations extending <code>AbstractWireOperations</code> and/or calling <code>ProtocolDescriptor#createWireOperations(WireConnection, WarningMessageCallback)</code>: make sure you don&#8217;t pass <code>null</code>.</p>
</div>
</li>
<li>
<p>Fixed: FBRowUpdater incorrectly considers result set with only partial PK updatable&#8201;&#8212;&#8201;backported from Jaybird 6 (<a href="https://github.com/FirebirdSQL/jaybird/issues/780">#780</a>)</p>
<div class="paragraph">
<p>This change also improves performance of <code>updateRow()</code>, <code>insertRow()</code>, <code>deleteRow()</code> and <code>refreshRow()</code>.
The best row identifier or <code>RDB$DB_KEY</code> were detected <em>each time</em> when calling <code>updateRow()</code>, <code>insertRow()</code>, <code>deleteRow()</code>, or <code>refreshRow()</code>.
This has been improved so this detection is done once, and in a way that non-updatable result sets can now be downgraded to <code>CONCUR_READ_ONLY</code> instead of throwing an exception when performing the modification.</p>
</div>
</li>
<li>
<p>Fixed: Use of offset timezone names (e.g. <code>+05:00</code>) for <code>sessionTimeZone</code> would result in a warning being logged, and an incorrect conversion applied (in UTC instead of the offset) when using the legacy time types&#8201;&#8212;&#8201;backported from Jaybird 6 (<a href="https://github.com/FirebirdSQL/jaybird/issues/787">#787</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="jaybird-5-0-3-changelog"><a class="anchor" href="#jaybird-5-0-3-changelog"></a>1.4. Jaybird 5.0.3</h3>
<div class="paragraph">
<p>The following has been changed or fixed since Jaybird 5.0.2:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Improvement: Do not reject attempts to read blob id 0&#8201;&#8212;&#8201;backported from Jaybird 6 (<a href="https://github.com/FirebirdSQL/jaybird/issues/765">#765</a>)</p>
<div class="paragraph">
<p>Previously, Jaybird rejected attempts to read blobs with blob id <code>0</code> (not on all code paths, for some only when assertions are enabled).
Formally, blob id <code>0</code> is not a valid blob id, but in practice they can occur (e.g. due to bugs, or access components/drivers explicitly setting a blob column to id <code>0</code>).
Other drivers and tools simply send the requests for blob id <code>0</code> to the server, which then treats it as an empty blob.
For consistency, we decided to let Jaybird handle it the same.</p>
</div>
</li>
<li>
<p>Fixed: on <code>CHAR</code> fields, a too short value could be returned if the string contained one or more codepoints represented by surrogate pairs and the string length in <code>char</code> exceeded the maximum string length&#8201;&#8212;&#8201;backported from Jaybird 6 (<a href="https://github.com/FirebirdSQL/jaybird/issues/770">#770</a>)</p>
<div class="paragraph">
<p>We now truncate the returned string if the codepoint count exceeds the maximum string length.</p>
</div>
</li>
<li>
<p>Fixed: <code>CallableStatement.getXXX(String)</code> could return value from wrong column&#8201;&#8212;&#8201;backported from Jaybird 6 (<a href="https://github.com/FirebirdSQL/jaybird/issues/772">#772</a>)</p>
</li>
<li>
<p>Updated: error messages updated from Firebird 5.0.0.1272</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="jaybird-5-0-2-changelog"><a class="anchor" href="#jaybird-5-0-2-changelog"></a>1.5. Jaybird 5.0.2</h3>
<div class="paragraph">
<p>The following has been changed or fixed since Jaybird 5.0.1:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fixed: Reconnect transaction with a transaction id exceeding 0x7FFF_FFFF did not work (<a href="https://github.com/FirebirdSQL/jaybird/issues/734">#734</a>)</p>
</li>
<li>
<p>New feature: add connection property <code>parallelWorkers</code> to set Firebird 5.0 <code>isc_dpb_parallel_workers</code> (<a href="https://github.com/FirebirdSQL/jaybird/issues/737">#737</a>)</p>
</li>
<li>
<p>New feature: add <code>MaintenanceManager.upgradeOds()</code> for the Firebird 5.0 gfix/service repair action to perform a minor ODS upgrade of a database (<a href="https://github.com/FirebirdSQL/jaybird/issues/738">#738</a>)</p>
</li>
<li>
<p>New feature: add parallel workers support for <code>BackupManager</code> (<a href="https://github.com/FirebirdSQL/jaybird/issues/739">#739</a>)</p>
</li>
<li>
<p>New feature: add parallel workers support for <em>sweep</em> in <code>MaintenanceManager</code> (<a href="https://github.com/FirebirdSQL/jaybird/issues/740">#740</a>)</p>
</li>
<li>
<p>Fixed: <code>DatabaseConnectionProperties.setServerBatchBufferSize(int)</code> ignored provided value and always set default (<code>0</code>, or &#8220;use server-side maximum&#8221;) (<a href="https://github.com/FirebirdSQL/jaybird/issues/741">#741</a>)</p>
<div class="paragraph">
<p>This bug did not affect connection property <code>serverBatchBufferSize</code> set through the JDBC URL or provided in a <code>Properties</code> object to <code>DriverManager</code>, it only affected the property set through implementations of <code>DatabaseConnectionProperties</code> (e.g. data sources from <code>org.firebirdsql.ds</code>).</p>
</div>
</li>
<li>
<p>New feature: add <code>MaintenanceManager.fixIcu()</code> for the Firebird 3.0 gfix/service repair action &#8220;ICU&#8221; to update or rebuild collations and indexes when the ICU version changed (<a href="https://github.com/FirebirdSQL/jaybird/issues/744">#744</a>)</p>
</li>
<li>
<p>Fixed: The first call to <code>getTableStatistics()</code> of a <code>FBTableStatisticsManager</code> instance returned only a few or even no tables; if no tables were returned, subsequent calls would also return no tables (<a href="https://github.com/FirebirdSQL/jaybird/issues/747">#747</a>)</p>
<div class="paragraph">
<p>Truncation of the information response will now result in three retries (so, four attempts), increasing the buffer size for each retry.
If after three retries, the buffer is still truncated, an <code>InfoTruncatedException</code> exception is thrown.
Subsequent attempts to call <code>getTableStatistics()</code> may succeed as that will further increase the buffer size.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="jaybird-5-0-1-changelog"><a class="anchor" href="#jaybird-5-0-1-changelog"></a>1.6. Jaybird 5.0.1</h3>
<div class="paragraph">
<p>The following has been changed or fixed since Jaybird 5.0.0:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fixed: Executing DML with a RETURNING clause containing a blob column would return the blob-id instead of the blob value (<a href="https://github.com/FirebirdSQL/jaybird/issues/728">#728</a>)</p>
</li>
<li>
<p>Fixed: <code>CallableStatement.getString</code> and <code>CallableStatement.getObject</code> would incorrectly trim string values (<a href="https://github.com/FirebirdSQL/jaybird/issues/729">#729</a>)</p>
</li>
<li>
<p>Fixed: <code>ResultSetMetaData.getPrecision(int)</code> of a connectionless result set could throw a <code>NullPointerException</code> if the column was of type <code>FLOAT</code> or <code>DOUBLE PRECISION</code> (<a href="https://github.com/FirebirdSQL/jaybird/issues/730">#730</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="jaybird-5-0-0-changelog"><a class="anchor" href="#jaybird-5-0-0-changelog"></a>1.7. Jaybird 5.0.0</h3>
<div class="paragraph">
<p>First release of Jaybird 5.</p>
</div>
<div class="paragraph">
<p>There were no relevant changes compared to 5.0.0-beta-1.</p>
</div>
</div>
<div class="sect2">
<h3 id="jaybird-5-0-0-beta-1-changelog"><a class="anchor" href="#jaybird-5-0-0-beta-1-changelog"></a>1.8. Jaybird 5.0.0-beta-1</h3>
<div class="paragraph">
<p>Initial release for evaluation.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="known-issues"><a class="anchor" href="#known-issues"></a>2. Known issues</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Using a native connection with a Firebird 3.0 or higher client library to a Firebird 2.5 or older server may be slow to connect.</p>
<div class="paragraph">
<p>Possible workarounds:</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Use a native URL with the Firebird INET4 protocol (e.g. for <code>DriverManager</code> <code>jdbc:firebird:native:inet4://&lt;serverName&gt;[:&lt;portNumber&gt;]/&lt;databaseName&gt;</code>).</p>
</li>
<li>
<p>Use the IPv4 address instead of the host name in the connection string</p>
</li>
<li>
<p>Use a Firebird 2.5 or earlier <code>fbclient</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>This is caused by <a href="https://github.com/FirebirdSQL/firebird/issues/4971">firebird#4971</a></p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="support"><a class="anchor" href="#support"></a>3. Support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you need support with Jaybird, join the <a href="https://groups.google.com/g/firebird-java">Firebird-Java Google Group</a> and mailing list.
You can subscribe by sending an email to <a href="mailto:firebird-java+subscribe@googlegroups.com">firebird-java+subscribe@googlegroups.com</a>.</p>
</div>
<div class="paragraph">
<p>Looking for professional support of Jaybird?
Jaybird is now part of the <a href="https://tidelift.com/subscription/pkg/maven-org-firebirdsql-jdbc-jaybird?utm_source=maven-org-firebirdsql-jdbc-jaybird&amp;utm_medium=referral&amp;utm_campaign=docs">Tidelift subscription</a>.</p>
</div>
<div class="paragraph">
<p>See also <a href="https://firebirdsql.org/file/documentation/drivers_documentation/java/faq.html#where-to-get-help">Where to get help</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="general-notes"><a class="anchor" href="#general-notes"></a>4. General Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Jaybird is a JDBC driver suite to connect to Firebird database servers from Java and other Java Virtual Machine (JVM) languages.</p>
</div>
<div class="paragraph">
<p>This driver does not work on Android, because it uses classes and features not available in Android.</p>
</div>
<div class="sect2">
<h3 id="about-this-version"><a class="anchor" href="#about-this-version"></a>4.1. About this version</h3>
<div class="paragraph">
<p>Jaybird 5 is&#8201;&#8212;&#8201;from a JDBC perspective&#8201;&#8212;&#8201;an incremental change from Jaybird 4.
However, internally, Jaybird underwent some major changes, the biggest was the removal of JCA (Java Connector Architecture) support.</p>
</div>
<div class="paragraph">
<p>The major changes and new features in Jaybird 5 are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#java-7-support-dropped">Java 7 support dropped</a></p>
</li>
<li>
<p><a href="#jca-removed">Java Connector Architecture (JCA) support removed</a></p>
</li>
<li>
<p><a href="#wirecrypt-chacha">ChaCha wire protocol encryption support</a> (Java 11 and higher only)</p>
</li>
<li>
<p><a href="#properties-changed">Changes to properties</a></p>
</li>
<li>
<p><a href="#unify-db-address">Unification of database and service addressing</a></p>
</li>
<li>
<p><a href="#jdbc-url-syntax">Changes to JDBC URL syntax</a></p>
</li>
<li>
<p><a href="#local-protocol-removed">Removal of LOCAL protocol implementation</a></p>
</li>
<li>
<p><a href="#stream-blobs-default">Stream blobs are now the default</a></p>
</li>
<li>
<p><a href="#generated-keys-parser-replaced">New parser for generated keys handling</a> (back-ported to Jaybird 4.0.8)</p>
</li>
<li>
<p><a href="#server-batch-updates">Firebird 4.0 server-side batch updates</a></p>
</li>
<li>
<p><a href="#multirow-returning">Firebird 5.0 multi-row RETURNING support</a></p>
</li>
<li>
<p><a href="#embedded-locator-service-provider">Firebird Embedded locator service provider (experimental)</a></p>
</li>
<li>
<p><a href="#table-statistics-manager">Table statistics of a connection (experimental)</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Upgrading from Jaybird 4 to 5 should be simple, but please make sure to read <a href="#compatibility-changes">Compatibility changes</a> before using Jaybird 5.
See also <a href="#upgrading-from-jaybird-4-to-jaybird-5">Upgrading from Jaybird 4 to Jaybird 5</a>.</p>
</div>
<div class="paragraph">
<p>Bug reports about undocumented changes in behavior are appreciated.
Feedback can be sent to the <a href="https://groups.google.com/g/firebird-java">Firebird-java mailing list</a> or reported on the issue tracker <a href="https://github.com/FirebirdSQL/jaybird/issues" class="bare">https://github.com/FirebirdSQL/jaybird/issues</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="supported-firebird-versions"><a class="anchor" href="#supported-firebird-versions"></a>4.2. Supported Firebird versions</h3>
<div class="paragraph">
<p>Jaybird 5.0.6 was tested against Firebird 2.5.9, 3.0.12, 4.0.5, and 5.0.1, but should also support other Firebird versions from 2.5 and up.</p>
</div>
<div class="paragraph">
<p>This driver does not support InterBase servers due to Firebird-specific changes in the protocol and database attachment parameters that are sent to the server.</p>
</div>
</div>
<div class="sect2">
<h3 id="supported-java-versions"><a class="anchor" href="#supported-java-versions"></a>4.3. Supported Java versions</h3>
<div class="paragraph">
<p>Jaybird 5 supports Java 8 (JDBC 4.2), and Java 9 and higher (JDBC 4.3).
Support for earlier Java versions has been dropped.</p>
</div>
<div class="paragraph">
<p>Given the limited support period for Java 9 and higher versions, we limit support to Java 8, 11, 17, 21 and the latest Java release.
Currently, that means we support Java 8, 11, 17, 21, and 23.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Jaybird 5 will be the last version to support Java 8 and 11.
Jaybird 6 will use Java 17 as the baseline (minimum) version.
We highly recommend upgrading to Java 17 or higher.</p>
</div>
<div class="paragraph">
<p>Jaybird 5 will serve as a &#8220;long-term support&#8221; version for Java 8 and 11, with maintenance releases at least until the release of Jaybird 7.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Jaybird 5 provides libraries for Java 8 and Java 11.
The Java 8 builds have all JDBC 4.3 related functionality and can be used on Java 9 and higher as well, but the Java 11 version has additional features, like the ChaCha wire encryption.</p>
</div>
<div class="paragraph">
<p>Jaybird 5 is not modularized, but all versions declare the automatic module name <code>org.firebirdsql.jaybird</code>.</p>
</div>
<div class="paragraph">
<p>See also <a href="#java-support">Java support</a> in <a href="#whats-new-in-jaybird-5">What&#8217;s new in Jaybird 5</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="specification-support"><a class="anchor" href="#specification-support"></a>4.4. Specification support</h3>
<div class="paragraph">
<p>Jaybird supports the following specifications:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Specification</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JDBC 4.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All JDBC 4.3 methods for features supported by Firebird;
Java 9 and higher supported using the Java 8 or Java 11 driver.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JDBC 4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All JDBC 4.2 methods for features supported by Firebird.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JTA 1.0.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implementation of <code>javax.transaction.xa.XAResource</code> interface via <code>XADataSource</code> implementation.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-jaybird-5"><a class="anchor" href="#getting-jaybird-5"></a>5. Getting Jaybird 5</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="jaybird-version_wo_target"><a class="anchor" href="#jaybird-version_wo_target"></a>5.1. Jaybird 5.0.6</h3>
<div class="sect3">
<h4 id="maven"><a class="anchor" href="#maven"></a>5.1.1. Maven</h4>
<div class="paragraph">
<p>Jaybird 5.0.6 is available on Maven Central:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
groupId
</td>
<td class="hdlist2">
<p><code>org.firebirdsql.jdbc</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
artifactId
</td>
<td class="hdlist2">
<p><code>jaybird</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
version
</td>
<td class="hdlist2">
<p><code>5.0.6.&lt;java&gt;</code> (where <code>&lt;java&gt;</code> is <code>java11</code> or <code>java8</code>)</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;
    &lt;artifactId&gt;jaybird&lt;/artifactId&gt;
    &lt;version&gt;5.0.6.java11&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to use Type 2 support (native or embedded), you need to explicitly include JNA 5.15.0 as a dependency:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;
    &lt;artifactId&gt;jna&lt;/artifactId&gt;
    &lt;version&gt;5.15.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For Windows and Linux, you can add the <code>org.firebirdsql.jdbc:fbclient</code> dependency on your classpath to provide the native libraries for the <code>native</code> protocol.
Be aware that this dependency does not support <code>embedded</code>.</p>
</div>
<div class="paragraph">
<p>See also <a href="#type-2-native-and-embedded-driver">Type 2 (native) and embedded driver</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="download"><a class="anchor" href="#download"></a>5.1.2. Download</h4>
<div class="paragraph">
<p>You can download the latest versions from <a href="https://firebirdsql.org/en/jdbc-driver/" class="bare">https://firebirdsql.org/en/jdbc-driver/</a></p>
</div>
<div class="paragraph">
<p>At minimum, Jaybird 5 requires <code>jaybird-5.0.6.&lt;java&gt;.jar</code>  (where <code>&lt;java&gt;</code> is <code>java11</code> or <code>java8</code>).</p>
</div>
<div class="paragraph">
<p>For native or embedded support, you will need to include <code>jna-5.15.0.jar</code> on your classpath.
See also <a href="#type-2-native-and-embedded-driver">Type 2 (native) and embedded driver</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="upgrading-from-jaybird-4-to-jaybird-5"><a class="anchor" href="#upgrading-from-jaybird-4-to-jaybird-5"></a>6. Upgrading from Jaybird 4 to Jaybird 5</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Please make sure to read <a href="#compatibility-changes">Compatibility changes</a> before upgrading to Jaybird 5.</p>
</div>
<div class="sect2">
<h3 id="maven-2"><a class="anchor" href="#maven-2"></a>6.1. Maven</h3>
<div class="paragraph">
<p>Change the version of the dependency to <code>5.0.6.&lt;java&gt;</code> (where <code>&lt;java&gt;</code> is your Java version, <code>java11</code> for Java 11 and higher, and <code>java8</code> for Java 8).
If you&#8217;re still using the artifact id <code>jaybird-jdkXX</code>, change it to <code>jaybird</code>.</p>
</div>
<div class="paragraph">
<p>When your Jaybird dependency defines the exclusion for <code>javax.resource:connector-api</code> (see below), you can remove it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;exclusions&gt;
    &lt;exclusion&gt;
        &lt;groupId&gt;javax.resource&lt;/groupId&gt;
        &lt;artifactId&gt;connector-api&lt;/artifactId&gt;
    &lt;/exclusion&gt;
&lt;/exclusions&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more detailed instructions, see also the information on Maven in <a href="#getting-jaybird-5">Getting Jaybird 5</a>.</p>
</div>
<div class="paragraph">
<p>If you use native or embedded, make sure to update your JNA dependency to version 5.15.0 (Jaybird 5 requires at least JNA 5.0, but we recommend using JNA 5.15.0).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;
    &lt;artifactId&gt;jna&lt;/artifactId&gt;
    &lt;version&gt;5.15.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="manual-install"><a class="anchor" href="#manual-install"></a>6.2. Manual install</h3>
<div class="paragraph">
<p>If you manage your dependencies manually, you need to do the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Replace the Jaybird 4 library with the Jaybird 5 version</p>
<div class="ulist">
<ul>
<li>
<p><code>jaybird-4.0.x.&lt;java&gt;.jar</code> with <code>jaybird-5.0.6.&lt;java&gt;.jar</code> (where <code>&lt;java&gt;</code> is <code>java11</code> or <code>java8</code>)</p>
</li>
<li>
<p><code>jaybird-full-4.0.x.&lt;java&gt;.jar</code> with <code>jaybird-5.0.6.&lt;java&gt;.jar</code>, the <code>jaybird-full</code> library no longer exists</p>
</li>
</ul>
</div>
</li>
<li>
<p>Replace the <code>jna-5.5.0.jar</code> library (or any JNA version before 5.15.0) with <code>jna-5.15.0.jar</code></p>
<div class="paragraph">
<p>This library is only needed if you actually use native or embedded connections, otherwise remove JNA (assuming your application itself or other dependencies don&#8217;t use it).</p>
</div>
</li>
<li>
<p>Remove the <code>connector-api-1.5.jar</code> library, it is no longer used by Jaybird</p>
</li>
<li>
<p>Remove the <code>antlr4-runtime-4.7.2.jar</code> library, it is no longer used by Jaybird</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="gotchas"><a class="anchor" href="#gotchas"></a>6.3. Gotcha&#8217;s</h3>
<div class="paragraph">
<p>If you find a problem while upgrading, or other bugs: please report it on <a href="https://github.com/FirebirdSQL/jaybird/issues" class="bare">https://github.com/FirebirdSQL/jaybird/issues</a>.</p>
</div>
<div class="paragraph">
<p>For known issues, consult <a href="#known-issues">Known issues</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="whats-new-in-jaybird-5"><a class="anchor" href="#whats-new-in-jaybird-5"></a>7. What&#8217;s new in Jaybird 5</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For a full list of changes, see <a href="https://github.com/FirebirdSQL/jaybird/issues?q=label%3A%22fix-version%3A+Jaybird+5%22">Firebird tracker for Jaybird 5</a>.</p>
</div>
<div class="sect2">
<h3 id="java-support"><a class="anchor" href="#java-support"></a>7.1. Java support</h3>
<div class="sect3">
<h4 id="java-7-support-dropped"><a class="anchor" href="#java-7-support-dropped"></a>7.1.1. Java 7 support dropped</h4>
<div class="paragraph">
<p>Java 7 is no longer supported.
See also <a href="https://github.com/FirebirdSQL/jaybird/blob/master/devdoc/jdp/jdp-2020-02-drop-java-7-support.md">jdp-2020-02 Drop Java 7 support</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="java-8"><a class="anchor" href="#java-8"></a>7.1.2. Java 8</h4>
<div class="paragraph">
<p>The driver supports Java 8.</p>
</div>
<div class="paragraph">
<p>Jaybird 5 is the last version to support Java 8</p>
</div>
</div>
<div class="sect3">
<h4 id="java-9-and-higher"><a class="anchor" href="#java-9-and-higher"></a>7.1.3. Java 9 and higher</h4>
<div class="paragraph">
<p>Jaybird 5 supports Java 9 and higher (JDBC 4.3) with the Java 8 and 11 version of the driver.
Most of the JDBC 4.3 features have been implemented (in as far as they are supported by Firebird).</p>
</div>
<div class="paragraph">
<p>You can use the Java 8 driver under Java 9 and higher.
For Java 11 or higher we recommend using the Java 11 driver, as it provides additional features (e.g. ChaCha wire encryption).</p>
</div>
<div class="paragraph">
<p>Given the limited support period for Java 9 and higher versions, not all Java releases are supported, see <a href="#supported-java-versions">Supported Java versions</a> for details.</p>
</div>
<div class="paragraph">
<p>For compatibility with Java 9 modules, Jaybird defines the automatic module name <code>org.firebirdsql.jaybird</code>.
This guarantees a stable module name for Jaybird, and allows for future modularization of Jaybird.</p>
</div>
<div class="paragraph">
<p>Jaybird 5 is the last version to support Java versions earlier than Java 17.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="firebird-support"><a class="anchor" href="#firebird-support"></a>7.2. Firebird support</h3>
<div class="paragraph">
<p>Jaybird 5 supports Firebird version 2.5, 3.0, 4.0, and 5.0.</p>
</div>
<div class="paragraph">
<p>Jaybird 5 is the last version to support Firebird 2.5.</p>
</div>
</div>
<div class="sect2">
<h3 id="jca-removed"><a class="anchor" href="#jca-removed"></a>7.3. Java Connector Architecture (JCA) support removed</h3>
<div class="paragraph">
<p>Jaybird no longer implements JCA, and no longer has a dependency on <code>connector-api-1.5.jar</code>.</p>
</div>
<div class="paragraph">
<p>See <a href="#removal-of-javaeejakartaee-connector-architecture-jca">Removal of Java EE/Jakarta EE Connector Architecture (JCA)</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="wirecrypt-chacha"><a class="anchor" href="#wirecrypt-chacha"></a>7.4. ChaCha wire protocol encryption support</h3>
<div class="paragraph">
<p>The Firebird wire protocol encryption plugin <code>ChaCha</code>&#8201;&#8212;&#8201;introduced in Firebird 4.0&#8201;&#8212;&#8201;is now supported by the PURE_JAVA and OOREMOTE protocol implementations.
Support is only available on Java 11 and higher using a Jaybird built for Java 11 or higher.</p>
</div>
<div class="paragraph">
<p>The implementation relies on the <code>ChaCha20</code> cipher introduced by <a href="https://openjdk.java.net/jeps/329" target="_blank" rel="noopener">JEP 329</a>.</p>
</div>
<div class="paragraph">
<p>Jaybird does not support the <code>ChaCha64</code> wire protocol encryption.
Support for <code>ChaCha64</code> will be introduced in Jaybird 6.</p>
</div>
</div>
<div class="sect2">
<h3 id="properties-changed"><a class="anchor" href="#properties-changed"></a>7.5. Changes to properties</h3>
<div class="paragraph">
<p>The handling of connection properties for <code>DriverManager</code>, data sources and Jaybird internals was rewritten.
The change is also documented in <a href="https://github.com/FirebirdSQL/jaybird/blob/master/devdoc/jdp/jdp-2020-10-propagation-of-connection-properties.md">jdp-2020-10</a> and <a href="https://github.com/FirebirdSQL/jaybird/blob/master/devdoc/jdp/jdp-2021-01-unified-database-coordinates.md">jdp-2021-01</a>.
This change has the following user-visible effects:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Jaybird-specific connection properties no longer have an alias with prefix <code>isc_dpb_</code>.
Aliases with prefix <code>isc_dpb_</code> are now only available for actual Firebird connection properties.</p>
<div class="paragraph">
<p>If you used connection properties starting with <code>isc_dpb_</code>, the solution is to remove <code>isc_dpb_</code> from the property name.</p>
</div>
</li>
<li>
<p>A number of connection properties getter/setter pairs on data sources and management APIs have been deprecated&#8201;&#8212;&#8201;for removal in Jaybird 6&#8201;&#8212;&#8201;in favour of a new name for consistency or better naming.</p>
<div class="ulist">
<ul>
<li>
<p><code>get/setDatabase</code>&#8201;&#8212;&#8201;use <code>get/setDatabaseName</code> (see also <a href="#unify-db-address">Unification of database and service addressing</a>).</p>
</li>
<li>
<p><code>get/setPort</code>&#8201;&#8212;&#8201;use <code>get/setPortNumber</code>  (see also <a href="#unify-db-address">Unification of database and service addressing</a>).</p>
</li>
<li>
<p><code>get/setHost</code>&#8201;&#8212;&#8201;use <code>get/setServerName</code>  (see also <a href="#unify-db-address">Unification of database and service addressing</a>).</p>
</li>
<li>
<p><code>get/setUserName</code>&#8201;&#8212;&#8201;use <code>get/setUser</code>, only deprecated, will not be removed</p>
</li>
<li>
<p><code>get/setConnectionDialect()</code>&#8201;&#8212;&#8201;use <code>get/setSqlDialect()</code>.</p>
</li>
<li>
<p><code>get/setBuffersNumber</code>&#8201;&#8212;&#8201;use <code>get/setPageCacheSize</code>.</p>
</li>
<li>
<p><code>get/setBlobBufferLength</code>&#8201;&#8212;&#8201;use <code>get/setBlobBufferSize</code>.</p>
</li>
<li>
<p><code>getNonStandardProperty(String)/setNonStandardProperty(String,String)</code>&#8201;&#8212;&#8201;use <code>getProperty(String)/setProperty(String,String)</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The various interfaces defining connection properties (e.g. for data sources) now all share a common interface <code>org.firebirdsql.jaybird.props.DatabaseConnectionProperties</code> (for database connections) or <code>org.firebirdsql.jaybird.props.ServiceConnectionProperties</code> (for service connections).</p>
</li>
<li>
<p>Type of <code>get/setWireCrypt</code> was changed from <code>WireCrypt</code> to <code>String</code>&#8201;&#8212;&#8201;use <code>get/setWireCryptAsEnum</code> to be able to use the enum <code>WireCrypt</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="unify-db-address"><a class="anchor" href="#unify-db-address"></a>7.6. Unification of database and service addressing</h3>
<div class="paragraph">
<p>The properties used to configure the &#8220;address&#8221; (or &#8220;coordinates&#8221;) of a database or service have been unified and standardized.</p>
</div>
<div class="paragraph">
<p>Connections to a database are identified by a triplet of properties (<code>serverName</code>, <code>portNumber</code>, <code>databaseName</code>), and to a service with a triplet of properties (<code>serverName</code>, <code>portNumber</code>, <code>serviceName</code>).</p>
</div>
<div class="paragraph">
<p>The <code>databaseName</code>/<code>serviceName</code> property serves a dual purpose: if <code>serverName</code> is <code>null</code>, its value is handled as a connection URL which may or may not contain a server name and port number, otherwise it is only the database path or alias or service name.
The syntax of <code>databaseName</code> as a connection URL is the same as the JDBC URL syntax, but without the <code>jdbc:firebird[sql][:sub-protocol]:</code> prefix and without connection properties.
The exact supported syntax of connection URLs and their interpretation is determined by the protocol implementation (<code>type</code> or &#8220;sub-protocol&#8221;).</p>
</div>
<div class="paragraph">
<p>When <code>serverName</code> is <code>null</code>, the <code>portNumber</code> will be ignored unless the protocol requires a hostname, and <code>databaseName</code> doesn&#8217;t contain one.
In that situation <code>serverName</code> is assumed to be <code>localhost</code> and <code>portNumber</code> is used.</p>
</div>
<div class="paragraph">
<p>Some examples that all identify the same database:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>(serverName = "localhost", portNumber = 3050, databaseName = "/path/to/db.fdb")</code></p>
</li>
<li>
<p><code>(serverName = null, portNumber = 3050, databaseName = "//localhost//path/to/db.fdb")</code></p>
</li>
<li>
<p><code>(serverName = null, portNumber = 3050, databaseName = "localhost:/path/to/db.fdb")</code></p>
</li>
<li>
<p><code>(serverName = null, portNumber = 3050, databaseName = "////path/to/db.fdb")</code>&#8201;&#8212;&#8201;for NATIVE and EMBEDDED, this may result in an embedded connection instead of through localhost.</p>
</li>
<li>
<p><code>(serverName = null, portNumber = 3050, databaseName = "/path/to/db.fdb")</code>&#8201;&#8212;&#8201;for NATIVE and EMBEDDED, this may result in an embedded connection instead of through localhost.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some examples that all identify the same service:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>(serverName = "localhost", portNumber = 3050, serviceName = "service_mgr")</code></p>
</li>
<li>
<p><code>(serverName = "localhost", portNumber = 3050, serviceName = null)</code></p>
</li>
<li>
<p><code>(serverName = null, portNumber = 3050, serviceName = "//localhost")</code></p>
</li>
<li>
<p><code>(serverName = null, portNumber = 3050, serviceName = "//localhost/")</code></p>
</li>
<li>
<p><code>(serverName = null, portNumber = 3050, serviceName = "//localhost/service_mgr")</code></p>
</li>
<li>
<p><code>(serverName = null, portNumber = 3050, serviceName = "///service_mgr")</code> &#8201;&#8212;&#8201;for NATIVE and EMBEDDED, this may result in an embedded connection instead of through localhost.</p>
</li>
<li>
<p><code>(serverName = null, portNumber = 3050, serviceName = "//")</code> &#8201;&#8212;&#8201;for NATIVE and EMBEDDED, this may result in an embedded connection instead of through localhost.</p>
</li>
<li>
<p><code>(serverName = null, portNumber = 3050, serviceName = "service_mgr")</code> &#8201;&#8212;&#8201;for NATIVE and EMBEDDED, this may result in an embedded connection instead of through localhost.</p>
</li>
<li>
<p><code>(serverName = null, portNumber = 3050, serviceName = null)</code> &#8201;&#8212;&#8201;for NATIVE and EMBEDDED, this may result in an embedded connection instead of through localhost.</p>
</li>
<li>
<p><code>(serverName = null, portNumber = 3050, serviceName = "host/3050:")</code>&#8201;&#8212;&#8201;for PURE_JAVA the <code>:</code> is required, otherwise <code>host/3050</code> is taken as the service name, for NATIVE and EMBEDDED behaviour will depend on the client version and connected Firebird version</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These changes apply to <code>FBConnectionPoolDataSource</code>, <code>FBSimpleDataSource</code>, <code>FBXADataSource</code>, <code>FirebirdConnectionProperties</code> implementations, <code>ServiceManager</code> implementations, <code>EventManager</code> implementations, and&#8201;&#8212;&#8201;with some caveats&#8201;&#8212;&#8201;JDBC URLs.</p>
</div>
<div class="paragraph">
<p>The property <code>database</code> that existed on some of these interfaces and classes is now an alias for <code>databaseName</code> and deprecated for removal in Jaybird 6.
The exception is <code>database</code> in <code>ServiceManager</code>.
The <code>database</code> property on <code>ServiceManager</code> is still <strong>only</strong> a database path or alias and serves&#8201;&#8212;&#8201;for some <code>ServiceManager</code> implementations&#8201;&#8212;&#8201;as the database the service operation applies to (e.g. backup, restore).</p>
</div>
<div class="paragraph">
<p>The property <code>host</code> that existed on some of these interfaces and classes is now an alias for <code>serverName</code> and deprecated for removal in Jaybird 6.
The same goes for <code>port</code> which is now an alias for <code>portNumber</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="jdbc-url-syntax"><a class="anchor" href="#jdbc-url-syntax"></a>7.7. Changes to JDBC URL syntax</h3>
<div class="paragraph">
<p>As a result of <a href="#unify-db-address">Unification of database and service addressing</a> and URL parser changes, JDBC URLs now allow:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>More lenient syntax</p>
</li>
<li>
<p>NATIVE (and EMBEDDED) now supports new Firebird 3.0+ URL formats</p>
</li>
<li>
<p>Specification of part or entire database address through connection properties</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="jdbc-url-syntax-lenient"><a class="anchor" href="#jdbc-url-syntax-lenient"></a>7.7.1. More lenient syntax</h4>
<div class="paragraph">
<p>The syntax of JDBC URLs is now more lenient.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In the standard syntax (starting with &#8220;<code>jdbc:firebird[sql][:sub-protocol]://</code>&#8221;), specifying server name and port number are now optional, but server name must be specified if a port number is specified.
For example, <code>jdbc:firebird:////path/to/db.fdb</code> or <code>jdbc:firebird:///C:\path\to\db.fdb</code> is now allowed and connects to localhost port 3050, database <code>/path/to/db.fdb</code> or <code>C:\path\to\db.fdb</code>.</p>
</li>
<li>
<p>For PURE_JAVA, localhost and port 3050 are used as defaults, for other protocol implementations the behaviour will vary.
For example, for NATIVE it will depend on the version of <code>fbclient</code> and the configured providers in its <code>firebird.conf</code>.</p>
</li>
<li>
<p>For PURE_JAVA, in the legacy syntax, server name and port number are now optional as well.
For example, <code>jdbc:firebird:/path/to/db.fdb</code> is now allowed and connects to localhost port 3050, database <code>/path/to/db.fdb</code>.</p>
</li>
<li>
<p>JDBC URLs that only contain a Windows path will no longer interpret the drive letter as a server name.
For example, <code>jdbc:firebird:C:\path\to\db.fdb</code> and <code>jdbc:firebird:C:/path/to/db.fdb</code> is now allowed and connects to localhost port 3050, database <code>C:\path\to\db.fdb</code> or <code>C:/path/to/db.fdb</code>.</p>
<div class="paragraph">
<p>In theory, this results in a minor backwards incompatibility for URLs with the legacy syntax using single character server names.
If this is an issue for you, the solution is to use the standard syntax (with &#8220;<code>//</code>&#8221;).</p>
</div>
</li>
<li>
<p>If the database address is specified through connection properties (see also <a href="#jdbc-url-syntax-props">Specification of part or entire database address through connection properties</a>), the URL can consist only of the JDBC URL prefix.
For example, <code>jdbc:firebird:</code> is now a legal URL, if at least <code>databaseName</code> is specified as a connection property in the <code>Properties</code> object passed to <code>DriverManager.getConnection(String, Properties)</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="jdbc-url-syntax-native-fb3"><a class="anchor" href="#jdbc-url-syntax-native-fb3"></a>7.7.2. NATIVE (and EMBEDDED) now supports new Firebird 3.0+ URL formats</h4>
<div class="paragraph">
<p>The NATIVE protocol implementation (and technically the EMBEDDED protocol as well), now support the Firebird 3.0 and higher URL formats.
The reason is that for the NATIVE protocol, Jaybird now only parses standard syntax URLs (those that start with &#8220;<code>//</code>&#8221;), and passes all other values to <code>fbclient</code> without further interpretation or parsing.</p>
</div>
<div class="paragraph">
<p>Some examples that are now valid (assuming a Firebird 3.0 or higher <code>fbclient</code> is used):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>jdbc:firebird:native:inet://myserver//path/to/db.fdb</code></p>
</li>
<li>
<p><code>jdbc:firebird:native:inet4://myserver//path/to/db.fdb</code>&#8201;&#8212;&#8201;Use IPv4 only</p>
</li>
<li>
<p><code>jdbc:firebird:native:inet6://myserver//path/to/db.fdb</code>&#8201;&#8212;&#8201;Use IPv6 only</p>
</li>
<li>
<p><code>jdbc:firebird:native:xnet://C:\path\to\db.fdb</code>&#8201;&#8212;&#8201;Windows only</p>
</li>
<li>
<p><code>jdbc:firebird:native:wnet://C:\path\to\db.fdb</code>&#8201;&#8212;&#8201;Windows only</p>
</li>
<li>
<p><code>jdbc:firebird:native:wnet://myserver/C:\path\to\db.fdb</code>&#8201;&#8212;&#8201;Windows only</p>
</li>
<li>
<p><code>jdbc:firebird:native:wnet://myserver:fb_db/C:\path\to\db.fdb</code>&#8201;&#8212;&#8201;Windows only</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Support for the WNET protocol is removed in Firebird 5.0.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="jdbc-url-syntax-props"><a class="anchor" href="#jdbc-url-syntax-props"></a>7.7.3. Specification of part or entire database address through connection properties</h4>
<div class="paragraph">
<p>The JDBC URL after the protocol prefix up to the &#8216;<code>?</code>&#8217; or&#8201;&#8212;&#8201;if no properties are defined in the URL&#8201;&#8212;&#8201;the end of the URL defines the <code>databaseName</code> property.
It is now possible to specify some or all of the address of the database (<code>serverName</code>, <code>portNumber</code>, <code>databaseName</code>) through connection properties.
When <code>databaseName</code> is also specified as a connection property, it overwrites the value derived from the URL itself.
When <code>serverName</code> is specified as a connection property, the <code>databaseName</code> value (derived from the URL or explicitly set) will be used as the database path or alias.
When <code>portNumber</code> is specified as a connection property, it will only be used when <code>serverName</code> is specified, or if <code>databaseName</code> doesn&#8217;t seem to contain a server name and the protocol implementation falls back to localhost.</p>
</div>
<div class="paragraph">
<p>Some examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>jdbc:firebird:?serverName=localhost&amp;portNumber=3050&amp;databaseName=/path/to/db.fdb</code></p>
</li>
<li>
<p><code>jdbc:firebird:</code> with <code>Properties</code> with <code>"serverName" = "localhost"</code>, <code>"portNumber" = "3050"</code>, <code>"databaseName" = "/path/to/db.fdb"</code>, and user and password as required</p>
</li>
<li>
<p><code>jdbc:firebird:/path/to/db.fdb?serverName=localhost&amp;portNumber=3050</code></p>
</li>
<li>
<p><code>jdbc:firebird:?databaseName=//localhost//path/to/db.fdb</code></p>
</li>
<li>
<p><code>jdbc:firebird://localhost//path/to/db.fdb?serverName=myserver</code>&#8201;&#8212;&#8201;this will attempt to connect to database <code>//localhost//path/to/db.fdb</code> on server <code>myserver</code> (which will likely fail)</p>
</li>
<li>
<p><code>jdbc:firebird://localhost//path/to/db.fdb?databaseName=//myserver//path/to/other.fdb</code>&#8201;&#8212;&#8201;this will connect as if you had used <code>jdbc:firebird://myserver//path/to/other.fdb</code></p>
</li>
</ul>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Just because you can do this, doesn&#8217;t mean you should!</strong></p>
</div>
<div class="paragraph">
<p>We recommend not to specify <code>serverName</code>, <code>portNumber</code> and <code>databaseName</code> as explicit connection properties when using <code>DriverManager</code>, but instead only use the URL itself to define the address of the database.</p>
</div>
<div class="paragraph">
<p>The behaviour defined in this section is the result of unification and simplification of connection property handling across JDBC URLs, data sources and internals of Jaybird.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="local-protocol-removed"><a class="anchor" href="#local-protocol-removed"></a>7.8. Removal of LOCAL protocol implementation</h3>
<div class="paragraph">
<p>The LOCAL protocol implementation (<code>LocalGDSFactoryPlugin</code>) has been removed.
For backwards compatibility, the type-name <code>LOCAL</code> and the JDBC URL prefixes <code>jdbc:firebird:local:</code> and <code>jdbc:firebirdsql:local:</code> have been mapped to the NATIVE protocol implementation.
This type name and these JDBC protocol prefixes should be considered deprecated and may be removed in a future Jaybird version.</p>
</div>
<div class="paragraph">
<p>The LOCAL protocol implementation was never really a local protocol, but&#8201;&#8212;&#8201;depending on <code>fbclient</code> version, its <code>firebird.conf</code> and platform&#8201;&#8212;&#8201;could also establish a TCP/IP, XNET, WNET or embedded connection to the database.</p>
</div>
<div class="paragraph">
<p>Establishing a local IPC connection to a database is only possible on Windows, using a Firebird 3.0 or higher <code>fbclient</code> with the <code>databaseName</code> <code>xnet://C:\path\to\db.fdb</code> or JDBC URL <code>jdbc:firebird:native:xnet://C:\path\to\db.fdb</code>.
For earlier versions of <code>fbclient</code>, the recommended URL is <code>jdbc:firebird:native:C:\path\to\db.fdb</code>, but this will not necessarily use a local IPC connection.</p>
</div>
</div>
<div class="sect2">
<h3 id="stream-blobs-default"><a class="anchor" href="#stream-blobs-default"></a>7.9. Stream blobs are now the default</h3>
<div class="paragraph">
<p>Jaybird now defaults to creating stream blobs instead of segmented blobs.
See <a href="https://github.com/FirebirdSQL/jaybird/blob/master/devdoc/jdp/jdp-2021-02-stream-blobs-by-default.md">jdp-2021-02 Stream blobs by default</a> for more information.</p>
</div>
<div class="paragraph">
<p>To use segmented blobs, specify connection property <code>useStreamBlobs</code> with value <code>false</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="generated-keys-parser-replaced"><a class="anchor" href="#generated-keys-parser-replaced"></a>7.10. New parser for generated keys handling</h3>
<div class="paragraph">
<p>The &#8220;generated keys&#8221; parser has been replaced.
This parser is used to detect statement types, the table name, and presence or absence of a <code>RETURNING</code> clause.
The new parser has no external dependencies, so Jaybird no longer depends on the ANTLR runtime (<code>org.antlr:antlr4-runtime</code>).</p>
</div>
<div class="paragraph">
<p>As a result of this change, it is possible that detection of some statements has changed, especially detection of the presence of a <code>RETURNING</code> clause.
Please report any incorrect changes in detection on <a href="https://groups.google.com/g/firebird-java">the firebird-java list</a> or on <a href="https://github.com/FirebirdSQL/jaybird/issues" class="bare">https://github.com/FirebirdSQL/jaybird/issues</a>.</p>
</div>
<div class="paragraph">
<p>If you were relying on disabling generated keys support by excluding the antlr4-runtime library from the classpath, you will now need to explicitly disable it.
Disabling generated keys can be done using the connection property <code>generatedKeysEnabled</code> with value <code>disabled</code>, or <code>ignored</code> if you don&#8217;t want an exception thrown when calling a generated-keys-related execute or prepare method.</p>
</div>
<div class="paragraph">
<p>This change was also backported to Jaybird 4.0.8.</p>
</div>
</div>
<div class="sect2">
<h3 id="server-batch-updates"><a class="anchor" href="#server-batch-updates"></a>7.11. Firebird 4.0 server-side batch updates</h3>
<div class="paragraph">
<p>Jaybird supports server-side batch updates introduced in Firebird 4.0.</p>
</div>
<div class="paragraph">
<p>This feature is only available on pure Java connections, and only on prepared statements (but not callable statements).
Support is only available in pure Java, as the bindings for native and embedded use the legacy fbclient API, and batch updates are not (fully) exposed in the legacy fbclient API.</p>
</div>
<div class="paragraph">
<p>Two new properties have been added for this feature:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>useServerBatch</code>&#8201;&#8212;&#8201;a Boolean property to enable or disable server-side batch, default is <code>true</code>.
When set to <code>false</code>, emulated batch behaviour (comparable to the behaviour of previous Jaybird versions) will be used.</p>
<div class="paragraph">
<p>When server-side batch support is not available, Jaybird will fall back to the emulated batch behaviour.</p>
</div>
</li>
<li>
<p><code>serverBatchBufferSize</code>&#8201;&#8212;&#8201;size in bytes of the server-side batch buffer, default is <code>0</code>.</p>
<div class="paragraph">
<p>This property supports the following value ranges:</p>
</div>
<div class="openblock">
<div class="content">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>&lt; 0</code>
</td>
<td class="hdlist2">
<p>use server-side default (16MB as of Firebird 4.0)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>0</code>
</td>
<td class="hdlist2">
<p>(default) use server-side maximum (256MB as of Firebird 4.0)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>&gt; 0</code>
</td>
<td class="hdlist2">
<p>use specified size, capped at server-side maximum</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>Too small buffer sizes will use 128KB or the size necessary for two rows (whichever is bigger).
Too large buffer sizes will use the server-side maximum (256MB as of Firebird 4.0).</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>This support comes with a number of limitations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Only supported on the pure Java protocol, not on native or embedded.</p>
</li>
<li>
<p>Only supported on <code>PreparedStatement</code>.</p>
<div class="ulist">
<ul>
<li>
<p>The <code>Statement</code> batch behaviour is not supported by server-side batch updates, so Jaybird always emulates batch support for <code>Statement</code>.</p>
</li>
<li>
<p>The <code>CallableStatement</code> implementation is more complex than prepared statement, so the decision was made not to reimplement this using server-side batch updates.
Jaybird always emulates batch support for <code>CallableStatement</code>.
The implementation might be rewritten in a future Jaybird version, if there is sufficient interest.
As a workaround, use <code>execute procedure</code> or <code>{call procedure_name(...)}</code> from a <code>PreparedStatement</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Requesting generated-keys will fall back to emulated behaviour as server-side batches do not support returning values produced by the <code>RETURNING</code> clause.</p>
</li>
<li>
<p>Using parameterless statements will fall back to emulated behaviour (since Jaybird 5.0.5) as server-side batches do not support executing parameterless statements.</p>
</li>
<li>
<p>The server-side batch update feature in Firebird 4.0 and higher has additional facilities to send <code>BLOB</code> values as part of the batch update.
This is not yet used by Jaybird.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When server-side batch support is unavailable, either because the server doesn&#8217;t support it, or because of above limitations, or if the connection property <code>useServerBatch</code> is <code>false</code>, Jaybird will fall back to the emulated behaviour.</p>
</div>
<div class="paragraph">
<p>By default, Jaybird will request the maximum server-side batch buffer size (256MB as of Firebird 4.0).
A smaller buffer can be requested with connection property <code>serverBatchBufferSize</code> (value in bytes).
Jaybird does not track the available size of the server-side batch buffer.
Attempting to execute a batch larger than this buffer will fail with error &#8220;Internal buffer overflow - batch too big&#8221; (<code>isc_batch_too_big</code>, error code <code>335545198</code>).
The 256MB buffer used with Jaybird defaults on Firebird 4.0 is sufficient to accommodate several thousand rows at maximum row size (a naive calculation says around 4000 rows, but this doesn&#8217;t account for all overhead of a row).</p>
</div>
</div>
<div class="sect2">
<h3 id="multirow-returning"><a class="anchor" href="#multirow-returning"></a>7.12. Firebird 5.0 multi-row RETURNING support</h3>
<div class="paragraph">
<p>Jaybird supports multi-row <code>RETURNING</code> introduced in Firebird 5.0.</p>
</div>
<div class="paragraph">
<p>The entire generated keys result set is retrieved immediately on execute.
So, if the statement inserts, updates or deletes a significant number of rows, this can consume a lot of memory in Jaybird.</p>
</div>
</div>
<div class="sect2">
<h3 id="scrollable-cursors"><a class="anchor" href="#scrollable-cursors"></a>7.13. Firebird 5.0 scrollable cursor support</h3>
<div class="paragraph">
<p>Jaybird supports server-side scrollable cursors introduced in Firebird 5.0.</p>
</div>
<div class="paragraph">
<p>This feature is only available on pure Java connections, and only when explicitly enabled with connection property <code>scrollableCursor</code>.
Support is only available in pure Java, as the bindings for native and embedded use the legacy fbclient API, and scrollable cursors are not exposed in the legacy fbclient API.</p>
</div>
<div class="paragraph">
<p>The connection property <code>scrollableCursor</code> has the following values (case-insensitive):</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>EMULATED</code></dt>
<dd>
<p>(default) Use client-side cached result set;
this is the same behaviour as previous Jaybird versions used</p>
</dd>
<dt class="hdlist1"><code>SERVER</code></dt>
<dd>
<p>Use server-side scrollable cursors, if possible</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If a connection does not support scrollable cursors, or if holdable cursors are requested, the behaviour will silently fall back to <em>emulated</em> scrollable cursors.</p>
</div>
<div class="paragraph">
<p>Compared to emulated scrollable cursor, server-side scrollable cursors exhibit slightly different behaviour (we may change the behaviour of <em>emulated</em> later in Jaybird 5 or in a future Jaybird release):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>New rows are inserted at the end of the cursor, where in <em>emulated</em> they are inserted before the current row</p>
</li>
<li>
<p>Deleted rows are visible with an all-null marker row, where in <em>emulated</em>, the deleted row is removed from the result set</p>
</li>
<li>
<p>Result sets now report <code>true</code> for <code>rowUpdated()</code>, <code>rowDeleted()</code> and <code>rowInserted()</code> for rows updated, deleted or inserted through the result set.</p>
<div class="paragraph">
<p>This is not yet reflected in <code>updatesAreDetected()</code>, <code>deletesAreDetected()</code> and <code>insertsAreDetected()</code> of <code>DatabaseMetaData</code>.
This will be corrected if and when we retrofit the new behaviour for <em>emulated</em> as well.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>See also <a href="https://github.com/FirebirdSQL/jaybird/tree/master/devdoc/jdp/jdp-2021-04-real-scrollable-cursor-support.md">jdp-2021-04</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="embedded-locator-service-provider"><a class="anchor" href="#embedded-locator-service-provider"></a>7.14. Firebird Embedded locator service provider (experimental)</h3>
<div class="paragraph">
<p>The Firebird Embedded locator service provider is an experimental feature to load Firebird Embedded from the classpath.
This requires an additional library implementing the service provider interface (SPI) and providing the necessary Firebird Embedded binaries for the runtime platform.</p>
</div>
<div class="paragraph">
<p>This feature should be considered highly experimental.
It may change in point releases, and may get dropped in future Jaybird major versions.
The project does not provide libraries implementing the SPI at this time.
As we have only successfully tested this on Windows, it is possible that&#8201;&#8212;&#8201;at least initially&#8201;&#8212;&#8201;only Windows versions of such a library will be released by the project.</p>
</div>
<div class="paragraph">
<p>For details, see <a href="https://github.com/FirebirdSQL/jaybird/blob/master/devdoc/jdp/jdp-2020-05-firebird-embedded-locator-service-provider.md" target="_blank" rel="noopener">jdp-2020-05: Firebird Embedded locator service provider</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This is an experimental feature.
Its API may change in point releases, or it may be removed or replaced entirely in a future major release.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="table-statistics-manager"><a class="anchor" href="#table-statistics-manager"></a>7.15. Table statistics of a connection (experimental)</h3>
<div class="paragraph">
<p>A new class was added, <code>org.firebirdsql.management.FBTableStatisticsManager</code>, which can be used to retrieve the table statistics of a connection.</p>
</div>
<div class="paragraph">
<p>Create an instance with <code>FBTableStatisticsManager#of(java.sql.Connection)</code>&#8201;&#8212;&#8201;the connection must unwrap to a <code>FirebirdConnection</code>&#8201;&#8212;&#8201;and retrieve a snapshot of the statistics with <code>FBTableStatisticsManager#getTableStatistics()</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This is an experimental feature.
Its API may change in point releases, or it may be removed or replaced entirely in a future major release.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="potentially-breaking-changes"><a class="anchor" href="#potentially-breaking-changes"></a>7.16. Potentially breaking changes</h3>
<div class="paragraph">
<p>Jaybird 5 contains a number of changes that might break existing applications.</p>
</div>
<div class="paragraph">
<p>See also <a href="#compatibility-changes">Compatibility changes</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="other-fixes-and-changes"><a class="anchor" href="#other-fixes-and-changes"></a>7.17. Other fixes and changes</h3>
<div class="ulist">
<ul>
<li>
<p>Fixed: changes to the transaction configuration (transaction parameter buffer configuration) of one connection are no longer propagated to other connections with the same connection properties (<a href="https://github.com/FirebirdSQL/jaybird/issues/428">#428</a>)</p>
<div class="paragraph">
<p>Backported to Jaybird 3.0.9 and 4.0.1.</p>
</div>
</li>
<li>
<p>Changed: build migrated from Ant to Gradle (<a href="https://github.com/FirebirdSQL/jaybird/issues/461">#461</a>)</p>
</li>
<li>
<p>Changed: removed debug logging in <code>AbstractFbStatement.ensureClosedCursor</code> (<a href="https://github.com/FirebirdSQL/jaybird/issues/604">#604</a>)</p>
<div class="paragraph">
<p>The solution for not closing the cursor on all code paths&#8201;&#8212;&#8201;introduced in Jaybird 3.0.6&#8201;&#8212;&#8201;is no longer considered a stopgap measure.</p>
</div>
</li>
<li>
<p>Improvement: Optimization of <code>ResultSet.next()</code> (<a href="https://github.com/FirebirdSQL/jaybird/issues/663">#663</a>)</p>
<div class="paragraph">
<p>This change was contributed by <a href="https://github.com/vasiliy-yashkov">Vasiliy Yashkov</a>.</p>
</div>
</li>
<li>
<p>Improvement: add <code>setForceWrite</code>/<code>getForceWrite</code> to <code>FBManager</code> to allow disabling force write on database creation (<a href="https://github.com/FirebirdSQL/jaybird/issues/671">#671</a>)</p>
</li>
<li>
<p>Improvement: Attempts to connect without username and password with the pure Java protocol will now result in error <code>isc_login</code> (&#8220;Your user name and password are not defined. Ask your database administrator to set up a Firebird login.&#8221;) instead of <code>isc_connect_reject</code> (&#8220;connection rejected by remote interface&#8221;) (<a href="https://github.com/FirebirdSQL/jaybird/issues/583">#583</a>)</p>
</li>
<li>
<p>Improvement: Don&#8217;t send cursor close to server when closing <code>ResultSet</code> in response to <code>Statement</code> close (<a href="https://github.com/FirebirdSQL/jaybird/issues/669">#669</a>)</p>
<div class="paragraph">
<p>This provides a small performance increase in cases where a result set was not already closed (e.g. no explicit <code>ResultSet.close()</code> or result set not fully read) before the statement close.</p>
</div>
</li>
<li>
<p>New feature: Support for NBackup GUID-based backup and in-place restore (<a href="https://github.com/FirebirdSQL/jaybird/issues/672">#672</a>)</p>
<div class="paragraph">
<p>The <code>org.firebirdsql.management.NBackupManager</code> interface has two new methods: <code>setBackupGuid(String)</code> expecting the brace-enclosed GUID of a previous backup to use as the starting point for this backup, and <code>setInPlaceRestore(boolean)</code> to enable (or disable) in-place restore.
These options require Firebird 4.0 or higher.</p>
</div>
<div class="paragraph">
<p>This feature was also backported to Jaybird 4.0.4.</p>
</div>
</li>
<li>
<p>New feature: Support for NBackup fixup and preserve sequence (<a href="https://github.com/FirebirdSQL/jaybird/issues/673">#673</a>)</p>
<div class="paragraph">
<p>The <code>org.firebirdsql.management.NBackupManager</code> interface has two new methods: <code>fixupDatabase()</code> to &#8220;fixup&#8221; a database (switch back to 'normal' state without merging the delta file), and <code>setPreserveSequence(boolean)</code> to preserve the current database GUID and replication sequence on fixup or restore.
These options require Firebird 4.0 or higher.</p>
</div>
</li>
<li>
<p>Improvement: The <code>charSet</code> connection property now also has an alias <code>charset</code> (URL property, not as get/set pair).</p>
</li>
<li>
<p>Improvement: The <code>dbCryptConfig</code> connection property now supports <em>base64url</em> (the &#8220;URL and Filename safe&#8221; Base 64 Alphabet) with the <code>base64url:</code> prefix (<a href="https://github.com/FirebirdSQL/jaybird/issues/677">#677</a>)</p>
</li>
<li>
<p>Fix: <code>FBStatement</code> allowed retrieval of update count after error, while <code>FBPreparedStatement</code>&#8201;&#8212;&#8201;correctly&#8201;&#8212;&#8201;did not (<a href="https://github.com/FirebirdSQL/jaybird/issues/681">#681</a>)</p>
<div class="paragraph">
<p>Now, after an exception, attempting to retrieve the update count with <code>getUpdateCount()</code> will return <code>-1</code>.</p>
</div>
</li>
<li>
<p>Improvement: Renamed <code>NativeResourceUnloadWebListener</code> to <code>NativeResourceUnloadWebListenerJavaX</code> and added its twin <code>NativeResourceUnloadWebListenerJakarta</code> using the <code>jakarta.servlet</code> namespace to support native resource unloading on Jakarta EE 9 and higher (<a href="https://github.com/FirebirdSQL/jaybird/issues/684">#684</a>)</p>
</li>
<li>
<p>Improvement: <code>Connection.isValid(int)</code> now asynchronously checks validity of connections, allowing the timeout to also be honoured for native connections (<a href="https://github.com/FirebirdSQL/jaybird/issues/685">#685</a>)</p>
</li>
<li>
<p>New feature: Support for <code>isc_spb_expected_db</code> on service manager (<a href="https://github.com/FirebirdSQL/jaybird/issues/691">#691</a>)</p>
<div class="paragraph">
<p>With Firebird 3.0 and higher, this is used by Firebird to find the non-default security database to use when authenticating.</p>
</div>
<div class="paragraph">
<p>The <code>setDatabase</code> method of a service manager will also set the <code>expectedDb</code> property.</p>
</div>
</li>
<li>
<p>Change: Removed finalization from <code>FBConnection</code> and <code>FBStatement</code> (<a href="https://github.com/FirebirdSQL/jaybird/issues/699">#699</a>)</p>
</li>
<li>
<p>Fix: XAResource checked at most 10 records for forget or recovery operations (<a href="https://github.com/FirebirdSQL/jaybird/issues/701">#701</a>)</p>
<div class="paragraph">
<p>As part of this change,&#8201;&#8212;&#8201;for Firebird 3.0 and higher&#8201;&#8212;&#8201;queries were changed to convert the <code>RDB$TRANSACTION_DESCRIPTION</code> to an octets varchar field (to avoid additional roundtrips for blob fields), and&#8201;&#8212;&#8201;when applicable, for Firebird 2.5 and higher&#8201;&#8212;&#8201;only query transactions that have a transaction description written by Jaybird</p>
</div>
</li>
<li>
<p>Change: Stop reporting <code>0</code> update count with <code>getUpdateCount()</code> for statement types that never produce an update count (<a href="https://github.com/FirebirdSQL/jaybird/issues/703">#703</a>)</p>
<div class="paragraph">
<p><code>getUpdateCount()</code> will no longer report an update count of <code>0</code> for statements that never have a non-zero update count (e.g. <code>select</code>, <code>execute procedure</code>, DDL, management statements).
Now, it will immediately report <code>-1</code> (which it previously only did after another call to <code>getMoreResults()</code>).</p>
</div>
<div class="paragraph">
<p>The <code>executeUpdate</code> and <code>executeLargeUpdate</code> methods will continue to report an update count of <code>0</code>, as required by the JDBC API documentation.
For consistency with server-side batch execution, emulated batch execution will also report update counts of <code>0</code> where <code>getUpdateCount()</code> would report <code>-1</code>.</p>
</div>
</li>
<li>
<p>New feature: Support for role name on FBManager (<a href="https://github.com/FirebirdSQL/jaybird/issues/705">#705</a>)</p>
</li>
<li>
<p>New feature: Support for NBackup &#8220;clean history&#8221; option (<a href="https://github.com/FirebirdSQL/jaybird/issues/706">#706</a>)</p>
<div class="paragraph">
<p>The <code>org.firebirdsql.management.NBackupManager</code> interface has three new methods: <code>setCleanHistory(boolean)</code> to enable (or disable) cleaning of history during backup, and <code>setKeepDays(int)</code> and <code>setKeepRows(int)</code> to specify the number of days or rows to keep history.
These options require Firebird 4.0.3 or higher.</p>
</div>
<div class="paragraph">
<p>This feature was also backported to Jaybird 4.0.7.</p>
</div>
</li>
<li>
<p>Improvement: Allow statements longer than 64KB with native and embedded connections (<a href="https://github.com/FirebirdSQL/jaybird/issues/713">#713</a>)</p>
<div class="paragraph">
<p>This requires Firebird 3.0 or higher server and a Firebird 3.0 or higher fbclient.
Long statement texts were already supported for pure Java connections.</p>
</div>
</li>
<li>
<p>Fixed: <code>DatabaseMetaData.getIdentifierQuoteString()</code> should return <code>" "</code> (space) for connection dialect 1 (<a href="https://github.com/FirebirdSQL/jaybird/issues/714">#714</a>)</p>
</li>
<li>
<p>Improvement: A column <code>JB_GRANTEE_TYPE</code> was added to <code>getColumnPrivileges</code> and <code>getTablePrivileges</code> in <code>DatabaseMetaData</code>.
It returns the object type of the grantee (e.g. <code>USER</code>, <code>ROLE</code>).
This is a Jaybird specific extension, we recommend retrieving it by name only.</p>
</li>
<li>
<p>Improvement: Populate <code>COLUMN_DEF</code> of <code>DatabaseMetaData.getProcedureColumns</code> with the default of the parameter (<a href="https://github.com/FirebirdSQL/jaybird/issues/715">#715</a>)</p>
</li>
<li>
<p>Change: Jaybird no longer registers a <code>SQLWarning</code> nor logs a warning when connecting without an explicit connection character set (<a href="https://github.com/FirebirdSQL/jaybird/issues/717">#717</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="removal-of-deprecated-classes-and-packages"><a class="anchor" href="#removal-of-deprecated-classes-and-packages"></a>7.18. Removal of deprecated classes and packages</h3>
<div class="paragraph">
<p>See <a href="#removal-of-deprecated-classes-packages-and-methods">Removal of deprecated classes, packages and methods</a> in <a href="#compatibility-changes">Compatibility changes</a> for more details.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="compatibility-changes"><a class="anchor" href="#compatibility-changes"></a>8. Compatibility changes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Jaybird 5 introduces some changes in compatibility and announces future breaking changes.</p>
</div>
<div class="paragraph">
<p><strong>The list might not be complete, if you notice a difference in behavior that is not listed, please <a href="https://github.com/FirebirdSQL/jaybird/issues">report it as bug</a>.</strong>
It might have been a change we forgot to document, but it could just as well be an implementation bug.</p>
</div>
<div class="sect2">
<h3 id="support-for-java-7-dropped"><a class="anchor" href="#support-for-java-7-dropped"></a>8.1. Support for Java 7 dropped</h3>
<div class="paragraph">
<p>Jaybird 5 does not support Java 7.
You will need to upgrade to Java 8 or higher, or remain on Jaybird 4.</p>
</div>
</div>
<div class="sect2">
<h3 id="removal-of-javaeejakartaee-connector-architecture-jca"><a class="anchor" href="#removal-of-javaeejakartaee-connector-architecture-jca"></a>8.2. Removal of Java EE/Jakarta EE Connector Architecture (JCA)</h3>
<div class="paragraph">
<p>The Java EE/Jakarta EE Connector Architecture (JCA) implementation that was the core of Jaybird has been removed.
The package <code>org.firebirdsql.jca</code> no longer exists, and it is no longer possible to use Jaybird as a JCA connector (Resource Adapter).</p>
</div>
<div class="paragraph">
<p>From its inception, Jaybird has been built around the&#8201;&#8212;&#8201;then new&#8201;&#8212;&#8201;JCA specification.
Unfortunately, this had the side effect that Jaybird required the JCA api (<code>connector-api</code>) as a dependency.
As far as we know, Jaybird was hardly used as a JCA connector, while at the same time it hindered development, as the JCA implementation was central to Jaybird.
Lack of testing as a JCA connector also meant it was unclear if Jaybird actually functioned correctly as such.</p>
</div>
<div class="paragraph">
<p>To reduce development overhead, we have decided to remove support for JCA from Jaybird.
A lot of classes previously in the <code>org.firebirdsql.jca</code> package are now in the package <code>org.firebirdsql.jaybird.xca</code>.
This new package is marked as internal API and is not binary compatible with the old JCA implementation.
Where possible, classes in this package have been declared final.
Be aware that the API and implementation of the classes in this package can change in any point release.</p>
</div>
<div class="paragraph">
<p>If there turns out to be actual demand for JCA support in Jaybird after all, we will consider creating new support for JCA in a way that does not require JCA when using Jaybird as a JDBC driver.
Contact us on the <a href="https://groups.google.com/g/firebird-java">firebird-java list</a> if you&#8217;re interested in such a solution.</p>
</div>
<div class="paragraph">
<p>As a result of this change, <code>org.firebirdsql.jdbc.FBDataSource</code> is now considered internal API as well.
For normal data sources, look at the classes in the package <code>org.firebirdsql.ds</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="changes-connection-props"><a class="anchor" href="#changes-connection-props"></a>8.3. Changes to connection properties</h3>
<div class="paragraph">
<p>The handling of connection properties was refactored significantly to remove a lot of code duplication and other forms of repetition.
As a result of this, a number of incompatibilities arise:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Jaybird specific connection properties no longer have an alias of the form <code>isc_dpb_&lt;name&gt;</code>.
Only shorter aliases (camel-case and underscored) are still supported.
For example <code>isc_dpb_use_stream_blobs</code> no longer exists, but <code>use_stream_blobs</code> and <code>useStreamBlobs</code> do.</p>
<div class="paragraph">
<p>This does not apply to connection properties defined by Firebird itself, which still support the <code>isc_dpb_</code> prefix.</p>
</div>
</li>
<li>
<p>The Jaybird specific connection properties no longer have a constant <code>isc_dpb_&lt;name&gt;</code> in <code>org.firebirdsql.gds.ISCConstants</code>.</p>
</li>
<li>
<p>Previously a <code>FBSQLException</code> was thrown if multiple aliases of the same property where used through <code>DriverManager</code>.
This is now silently allowed, and the last property 'wins', however the ordering of properties is not deterministic.</p>
<div class="paragraph">
<p>The behaviour of <code>FBDriver.normalizeProperties</code> no longer matches with the behaviour of connecting through <code>DriverManager</code> as <code>normalizeProperties</code> still throws the exception.</p>
</div>
</li>
<li>
<p><code>FBDriver.normalizeProperties</code> normalizes to a different property name than previous versions, the shorter camel-case name, instead of the longer, underscored <code>isc_dpb_</code> alias.
For example, <code>charSet</code> instead of <code>isc_dpb_local_encoding</code>.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="changes-set-non-standard-string"><a class="anchor" href="#changes-set-non-standard-string"></a>8.3.1. Changes to setNonStandardString(String)</h4>
<div class="paragraph">
<p>The <code>FirebirdConnectionProperties.setNonStandardString(String)</code> (implemented by a number of data sources) is documented as accepting strings with the format <code>propertyName[=propertyValue]</code>.
However, the actual implementation was far more lenient, allowing odd values like <code>" =:propertyName :==: propertyValue"</code> and <code>"propertyName propertyValue"</code>.</p>
</div>
<div class="paragraph">
<p>This has been rectified, and now we split on the first &#8216;<code>=</code>&#8217;, everything before the &#8216;<code>=</code>&#8217;&#8201;&#8212;&#8201;or the entire string if there is no &#8216;<code>=</code>&#8217;&#8201;&#8212;&#8201;is the property name, and everything after&#8201;&#8212;&#8201;or an empty string if there is no &#8216;<code>=</code>&#8217;&#8201;&#8212;&#8201;is the property value.
Leading and trailing whitespace is trimmed from the property name and value.</p>
</div>
<div class="paragraph">
<p>This has the effect that previously valid options will now configure a different property or&#8201;&#8212;&#8201;for a limited number of cases&#8201;&#8212;&#8201;throw an <code>IllegalArgumentException</code>.
Some examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>"a:=b"</code> used to set name <code>"a"</code> with value <code>"b"</code>, but now sets name <code>"a:"</code> with value <code>"b"</code>.</p>
</li>
<li>
<p><code>"a b"</code> used to do the same, but now sets name <code>"a b"</code> with value empty string.</p>
</li>
<li>
<p><code>"=a=b"</code> used to set the same, but now throws an `IllegalArgumentException.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These cases need to be replaced with <code>"a=b"</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="generated-keys-always"><a class="anchor" href="#generated-keys-always"></a>8.4. Generated keys support always available</h3>
<div class="paragraph">
<p>Previously, support for generated keys depended on the presence of the antlr4-runtime library on the classpath.
With <a href="#generated-keys-parser-replaced">New parser for generated keys handling</a>, generated keys support is now always available.</p>
</div>
<div class="paragraph">
<p>See <a href="#generated-keys-parser-replaced">New parser for generated keys handling</a> for information on disabling or ignoring generated keys support if you relied on this behaviour.</p>
</div>
</div>
<div class="sect2">
<h3 id="batch-too-big"><a class="anchor" href="#batch-too-big"></a>8.5. Batch execution error &#8220;Internal buffer overflow - batch too big&#8221;</h3>
<div class="paragraph">
<p>With the introduction of server-side batch updates, it is possible that execution of a very large batch fails with error &#8220;Internal buffer overflow - batch too big&#8221; (<code>isc_batch_too_big</code>, <code>335545198</code>).</p>
</div>
<div class="paragraph">
<p>There are two possible solutions for this error:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Reduce the size of the batch, by executing when the batch has accumulated a few hundred to a few thousand rows.</p>
</li>
<li>
<p>Disable server-side batch updates by setting connection property <code>useServerBatch</code> to <code>false</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The maximum server-side batch buffer should be sufficient to have a batch of around 4000 rows with the maximum row size (around 64KB), more rows are possible for smaller row sizes.</p>
</div>
</div>
<div class="sect2">
<h3 id="metadata-compat-changes"><a class="anchor" href="#metadata-compat-changes"></a>8.6. Changes affecting metadata compatibility</h3>
<div class="paragraph">
<p>The methods <code>DatabaseMetaData.getColumnPrivileges</code> and <code>DatabaseMetaData.getTablePrivileges</code> previously returned the privilege name <code>REFERENCE</code> in result set column <code>PRIVILEGE</code>.
This has been changed to <code>REFERENCES</code> to match both the name of the privilege in the <code>GRANT</code> statement, and the name used in the JDBC 4.3 documentation.</p>
</div>
</div>
<div class="sect2">
<h3 id="removal-of-classes-packages-and-methods-without-deprecation"><a class="anchor" href="#removal-of-classes-packages-and-methods-without-deprecation"></a>8.7. Removal of classes, packages and methods without deprecation</h3>
<div class="sect3">
<h4 id="removal-of-packages-without-deprecation"><a class="anchor" href="#removal-of-packages-without-deprecation"></a>8.7.1. Removal of packages without deprecation</h4>
<div class="paragraph">
<p>The following packages have been removed in Jaybird 5 without deprecation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.firebirdsql.jdbc.parser</code>;
there is no compatible replacement.
Its successor is the internal API in <code>org.firebirdsql.jaybird.parser</code>.
See also <a href="#generated-keys-parser-replaced">New parser for generated keys handling</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="removal-of-methods-without-deprecation"><a class="anchor" href="#removal-of-methods-without-deprecation"></a>8.7.2. Removal of methods without deprecation</h4>
<div class="paragraph">
<p>The following methods have been removed in Jaybird 5 without deprecation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>FirebirdConnectionProperties.getDatabaseParameterBuffer()</code>;
there is no direct replacement, though <code>BaseProperties.connectionPropertyValues()</code> can be considered its successor.</p>
</li>
<li>
<p><code>FBConnection.getDatabaseParameterBuffer()</code>;
there is no direct replacement, though <code>FBConnection.connectionProperties()</code> can be considered its successor.</p>
</li>
<li>
<p><code>FBStatement</code></p>
<div class="ulist">
<ul>
<li>
<p><code>toArray(Collection&lt;Long&gt; updateCounts)</code>&#8201;&#8212;&#8201;use <code>org.firebirdsql.util.Primitives.toIntArray(List&lt;? extends Number&gt;)</code> (note: this is considered internal API)</p>
</li>
<li>
<p><code>toLargeArray(Collection&lt;Long&gt; updateCounts)</code>&#8201;&#8212;&#8201;use <code>org.firebirdsql.util.Primitives.toLongArray(List&lt;? extends Number&gt;)</code> (note: this is considered internal API)</p>
</li>
<li>
<p><code>forgetResultSet()</code>;
there is no replacement</p>
</li>
<li>
<p><code>isExecuteProcedureStatement(String sql)</code>;
there is no replacement</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>FBPreparedStatement</code></p>
<div class="ulist">
<ul>
<li>
<p><code>setStringForced(int, String)</code>;
there is no replacement with the same behaviour, use <code>setString(int, String)</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>FBRowUpdater</code>, parameter <code>Synchronizable syncProvider</code> was removed from its constructor</p>
</li>
<li>
<p><code>GDSHelper</code></p>
<div class="ulist">
<ul>
<li>
<p><code>getDatabaseParameterBuffer()</code>, the significant refactoring of Jaybird&#8217;s internals resulted in this method no longer making any sense.
There is no direct replacement, though <code>GDSHelper.getConnectionProperties()</code> can be considered its successor.</p>
</li>
<li>
<p><code>openBlob(long, boolean)</code>, use <code>openBlob(long, BlobConfig)</code></p>
</li>
<li>
<p><code>createBlob(boolean)</code>, use <code>createBlob(BlobConfig)</code></p>
</li>
<li>
<p><code>getJavaEncoding()</code>;
there is no replacement</p>
</li>
<li>
<p><code>getBlobBufferLength()</code>, use <code>getConnectionProperties().getBlobBufferSize()</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>WireCrypt getWireCrypt()</code> in <code>ServiceManager</code>, <code>EventManager</code> and <code>IAttachProperties</code>;
replacement is <code>WireCrypt getWireCryptAsEnum()</code> or <code>String getWireCrypt()</code>.</p>
</li>
<li>
<p><code>setWireCrypt(WireCrypt)</code> in <code>ServiceManager</code>, <code>EventManager</code> and <code>IAttachProperties</code>;
replacement is <code>setWireCryptAsEnum(WireCrypt)</code> or <code>setWireCrypt(String)</code>.</p>
</li>
<li>
<p><code>getServerName()</code>, <code>getPortNumber()</code> and <code>getAttachObjectName()</code> in <code>org.firebirdsql.gds.ng.AbstractConnection</code>;
handling of database coordinates is now considered internal to the protocol implementation.
There is no direct equivalent beyond accessing the properties with the same name in the attachment properties (though keep in mind that the meaning of those properties has changed in Jaybird 5, see also <a href="https://github.com/FirebirdSQL/jaybird/blob/master/devdoc/jdp/jdp-2021-01-unified-database-coordinates.md">jdp-2021-01</a>).</p>
</li>
<li>
<p>constructor <code>FBCachedClob(FBCachedBlob, String)</code>, use <code>FBCachedClob(FBCachedBlob, FBBlob.Config)</code></p>
</li>
<li>
<p>constructor <code>FBProcedureParam()</code>, use <code>FBProcedureParam(int, String)</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following methods had their visibility reduced:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>FBTpbMapper.getDefaultTransactionIsolation()</code> to default access.</p>
</li>
<li>
<p><code>FBTpbMapper.setDefaultTransactionIsolation(int)</code> to default access.</p>
</li>
<li>
<p><code>FBProcedureParam</code></p>
<div class="ulist">
<ul>
<li>
<p><code>isParam()</code> made final</p>
</li>
<li>
<p><code>getPosition()</code> made final</p>
</li>
<li>
<p><code>getParamValue()</code> made final</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="removal-of-classes-without-deprecation"><a class="anchor" href="#removal-of-classes-without-deprecation"></a>8.7.3. Removal of classes without deprecation</h4>
<div class="paragraph">
<p>The following classes have been removed in Jaybird 5 without deprecation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ParameterBufferHelper</code></p>
</li>
<li>
<p><code>ParameterBufferHelper.DpbParameterType</code></p>
</li>
<li>
<p><code>ParameterBufferHelper.DpbValueType</code></p>
</li>
<li>
<p><code>DatabaseParameterBufferExtension</code></p>
</li>
<li>
<p><code>Base64Decoder</code> and <code>Base64DecoderImpl</code>, these classes were internal API, but not marked as such.</p>
</li>
<li>
<p><code>JdbcVersionSupport</code> and implementations, <code>JdbcVersionSupportHolder</code>.
These were implementation artifacts to support multiple JDBC versions.</p>
</li>
<li>
<p><code>AbstractPreparedStatement</code>, <code>AbstractCallableStatement</code> and <code>AbstractResultSet</code>.
These were implementation artifacts to support multiple JDBC versions.</p>
</li>
<li>
<p><code>Synchronizable</code>, it is no longer possible to synchronize on the lock object of JDBC classes.
Thread safety and locking is now an internal implementation detail.</p>
<div class="paragraph">
<p>For maintainers of derived drivers, usage of <code>synchronized (getSynchronizationObject()) { .. } </code> need to be replaced with <code>try (LockCloseable ignored = withLock()) { .. }</code>.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following classes are no longer accessible in Jaybird 5:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>FBUpdatableCursorFetcher</code> is now package private.</p>
</li>
<li>
<p><code>FBRowUpdater</code> is now package private and final.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following classes can no longer be subclassed in Jaybird 5:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>FBRowUpdater</code> is now final</p>
</li>
<li>
<p><code>DefaultEncodingSet</code> is now final.
In practice, this class was already defined in a way that it couldn&#8217;t be subclassed in a useful way, but it was documented that it could because of an earlier design iteration.</p>
</li>
<li>
<p><code>FBBlob</code> is now final</p>
</li>
<li>
<p><code>FBClob</code> is now final</p>
</li>
<li>
<p><code>FBCachedClob</code> is now final</p>
</li>
<li>
<p><code>FBConnectionProperties</code> is now final</p>
</li>
<li>
<p><code>FBRowId</code> is now final</p>
</li>
<li>
<p><code>FBSavePoint</code> is now final</p>
</li>
<li>
<p><code>FBTpbMapper</code> is now final</p>
</li>
<li>
<p><code>ExecutionPlanProcessor</code> is now final</p>
</li>
<li>
<p><code>BlobLengthProcessor</code> is now final</p>
</li>
<li>
<p><code>FBEscapedFunctionHelper</code> is now final and can no longer be instantiated</p>
</li>
<li>
<p><code>FBEscapedCallParser</code> is now final, and some previously <code>protected</code> methods have been made package private or removed entirely.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="removal-of-constants-without-deprecation"><a class="anchor" href="#removal-of-constants-without-deprecation"></a>8.7.4. Removal of constants without deprecation</h4>
<div class="paragraph">
<p>The following constants have been removed in Jaybird 5 without deprecation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>TIME_WITH_TIMEZONE</code> and <code>TIMESTAMP_WITH_TIMEZONE</code> from <code>org.firebirdsql.jdbc.JaybirdTypeCodes</code>.
Use the constants with the same name from <code>java.sql.Types</code>.</p>
</li>
<li>
<p><code>ISCConstants</code></p>
<div class="ulist">
<ul>
<li>
<p><code>isc_dpb_*</code> of Jaybird-specific connection properties, Firebird-specific connection properties have been deprecated for removal in Jaybird 6.</p>
</li>
<li>
<p><code>jaybirdMinIscDpbValue</code></p>
</li>
<li>
<p><code>jaybirdMaxIscDpbValue</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>IAttachProperties.DEFAULT_PORT</code></p>
</li>
<li>
<p><code>IAttachProperties.DEFAULT_SERVER_NAME</code></p>
</li>
<li>
<p><code>FBBlob.SEGMENTED</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="removal-of-deprecated-classes-packages-and-methods"><a class="anchor" href="#removal-of-deprecated-classes-packages-and-methods"></a>8.8. Removal of deprecated classes, packages and methods</h3>
<div class="sect3">
<h4 id="removal-of-deprecated-packages"><a class="anchor" href="#removal-of-deprecated-packages"></a>8.8.1. Removal of deprecated packages</h4>
<div class="paragraph">
<p>The following packages have been removed in Jaybird 5:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.firebirdsql.jca</code>;
its replacement is in <code>org.firebirdsql.jaybird.xca</code>, but this API is not binary compatible and is considered internal API.
See also <a href="#jca-removed">Java Connector Architecture (JCA) support removed</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="removal-of-deprecated-methods"><a class="anchor" href="#removal-of-deprecated-methods"></a>8.8.2. Removal of deprecated methods</h4>
<div class="paragraph">
<p>The following methods have been removed in Jaybird 5:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MaintenanceManager.listLimboTransactions()</code>, use <code>MaintenanceManager.limboTransactionsAsList()</code> or  <code>MaintenanceManager.getLimboTransactions()</code> instead.</p>
</li>
<li>
<p><code>TraceManager.loadConfigurationFromFile(String)</code>, use standard Java functionality like <code>new String(Files.readAllBytes(Paths.get(fileName)), &lt;charset&gt;)</code></p>
</li>
<li>
<p><code>FBDatabaseMetaData.hasNoWildcards(String pattern)</code></p>
</li>
<li>
<p><code>FBDatabaseMetaData.stripEscape(String pattern)</code></p>
</li>
<li>
<p><code>FbStatement.getFieldDescriptor()</code>, use <code>FbStatement.getRowDescriptor()</code></p>
</li>
<li>
<p><code>AbstractFbStatement.setFieldDescriptor(RowDescriptor fieldDescriptor)</code>, use <code>AbstractFbStatement.setRowDescriptor(RowDescriptor rowDescriptor)</code></p>
</li>
<li>
<p><code>FBField.isType(FieldDescriptor, int)</code>, use <code>JdbcTypeConverter.isJdbcType(FieldDescriptor, int)</code></p>
</li>
<li>
<p><code>EncodingFactory</code></p>
<div class="ulist">
<ul>
<li>
<p><code>getCharacterSetSize(int)</code>, use <code>getEncodingDefinitionByCharacterSetId(int)</code> and then <code>getMaxBytesPerChar()</code></p>
</li>
<li>
<p><code>getEncoding(String)</code>, use <code>getEncodingForCharsetAlias(String, Encoding)</code></p>
</li>
<li>
<p><code>getEncoding(Charset)</code>, use <code>getEncodingForCharset(Charset, Encoding)</code> or <code>getOrCreateEncodingForCharset(Charset)</code></p>
</li>
<li>
<p><code>getIscEncoding(String)</code>, use <code>getEncodingDefinitionByCharsetAlias(String)</code> and then <code>getFirebirdEncodingName()</code></p>
</li>
<li>
<p><code>getIscEncoding(Charset)</code>, use <code>getEncodingDefinitionByCharset(Charset)</code> and then <code>getFirebirdEncodingName()</code></p>
</li>
<li>
<p><code>getIscEncodingSize(String)</code>, use <code>getEncodingDefinitionByFirebirdName(String)</code> and then <code>getMaxBytesPerChar()</code></p>
</li>
<li>
<p><code>getJavaEncoding(String)</code>, use <code>getEncodingDefinitionByFirebirdName(String)</code> and then <code>getJavaEncodingName()</code></p>
</li>
<li>
<p><code>getJavaEncodingForAlias(String)</code>, use <code>getEncodingDefinitionByCharsetAlias(String)</code> and then <code>getJavaEncodingName()</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="removal-of-deprecated-classes"><a class="anchor" href="#removal-of-deprecated-classes"></a>8.8.3. Removal of deprecated classes</h4>
<div class="paragraph">
<p>The following classes have been removed in Jaybird 5:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>FBMissingParameterException</code>, exception is no longer used.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="removal-of-deprecated-constants"><a class="anchor" href="#removal-of-deprecated-constants"></a>8.8.4. Removal of deprecated constants</h4>
<div class="paragraph">
<p>The following constants have been removed in Jaybird 5:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All <code>SQL_STATE_*</code> constants in <code>FBSQLParseException</code>.
Use equivalent constants in <code>org.firebirdsql.jdbc.SQLStateConstants</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="removal-of-udf-support-for-jdbc-escapes"><a class="anchor" href="#removal-of-udf-support-for-jdbc-escapes"></a>8.9. Removal of UDF support for JDBC escapes</h3>
<div class="paragraph">
<p>Given recent Firebird versions have significantly improved support for built-in functions, and UDFs are now deprecated, the support to map JDBC function escapes to UDFs from <code>ib_udf</code> instead of built-in functions using the boolean connection property <code>useStandarUdf</code>[sic] has been removed.</p>
</div>
<div class="paragraph">
<p>As a result, the following methods, constants, properties and others are no longer available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Connection property <code>useStandarUdf</code>[sic] and its alias <code>use_standard_udf</code></p>
</li>
<li>
<p><code>isUseStandardUdf()</code> and <code>setUseStandardUdf(boolean useStandardUdf)</code> in <code>FirebirdConnectionProperties</code> and in implementations of <code>DataSource</code> and other classes</p>
</li>
<li>
<p>Constants</p>
<div class="ulist">
<ul>
<li>
<p><code>FBConnectionProperties.USE_STANDARD_UDF_PROPERTY</code></p>
</li>
<li>
<p><code>DatabaseParameterBufferExtension.USE_STANDARD_UDF</code></p>
</li>
<li>
<p><code>ISCConstants.isc_dpb_use_standard_udf</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Enum <code>EscapeParserMode</code> and its usages in <code>FBEscapedCallParser</code> and <code>FBEscapedParser</code></p>
</li>
<li>
<p>Public classes in package <code>org.firebirdsql.jdbc.escape</code> are now marked as internal API</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="breaking-changes-internal-api"><a class="anchor" href="#breaking-changes-internal-api"></a>8.10. Breaking changes internal API</h3>
<div class="paragraph">
<p>The following breaking changes were made to the internal API, like the GDS-ng API in <code>org.firebirdsql.gds.ng</code> and sub-packages.
These changes are primarily interesting for implementers of custom GDS-ng implementations or forks of Jaybird, or people using these low-level APIs directly.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>constructor <code>AbstractStatement(Object syncObject)</code> was replaced with a no-arg constructor.</p>
</li>
<li>
<p><code>ProtocolDescriptor.createWireOperations(WireConnection&lt;?, ?&gt; connection, WarningMessageCallback defaultWarningMessageCallback, Object syncObject)</code> was replaced with <code>ProtocolDescriptor.createWireOperations(WireConnection&lt;?, ?&gt; connection, WarningMessageCallback defaultWarningMessageCallback)</code></p>
</li>
<li>
<p>The third parameter, <code>Object syncObject</code>, of constructor <code>AbstractWireOperations</code> (and its subclasses) was removed</p>
</li>
<li>
<p>Method <code>getSynchronizationObject()</code> was removed from various interface, replace use of <code>synchronized</code> blocks with <code>try (LockCloseable ignored = withLock()) { .. }</code></p>
<div class="ulist">
<ul>
<li>
<p><code>FbAttachment</code></p>
</li>
<li>
<p><code>FbBlob</code></p>
</li>
<li>
<p><code>AbstractFbStatement</code></p>
</li>
<li>
<p><code>AbstractFbTransaction</code></p>
</li>
<li>
<p><code>AbstractWireOperations</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Class <code>SyncObject</code> has been removed</p>
</li>
<li>
<p><code>IConnectionProperties.getExtraDatabaseParameters</code>;
there is no direct replacement, though <code>BaseProperties.connectionPropertyValues()</code> can be considered its successor for read-only access.</p>
</li>
<li>
<p><code>FbConnectionProperties.fromDpb(DatabaseParameterBuffer)</code>;
there is no replacement.</p>
</li>
<li>
<p><code>AbstractParameterConverter.populateNonStandardProperties</code>;
there is no direct replacement.
The new way of adding non-standard properties is setting the appropriate properties by name (e.g. using <code>BaseProperty.setProperty(String, String)</code>) before <code>ParameterConverter.toDatabaseParameterBuffer</code> is called.</p>
</li>
<li>
<p><code>FBConnectionRequestInfo.deepCopy()</code> (internal API);
if a replacement is needed, use <code>new FBConnectionRequestInfo(instance.asIConnectionProperties().asNewMutable())</code>.</p>
</li>
<li>
<p><code>DatatypeCoder</code></p>
<div class="ulist">
<ul>
<li>
<p><code>encodeTimestamp(Timestamp, Calendar)</code>&#8201;&#8212;&#8201;use <code>encodeTimestamp(Timestamp, Calendar, boolean)</code></p>
</li>
<li>
<p><code>encodeTimestamp(Timestamp)</code>&#8201;&#8212;&#8201;use <code>encodeTimestampCalendar(Timestamp, Calendar)</code></p>
</li>
<li>
<p><code>decodeTimestamp(Timestamp, Calendar)</code>&#8201;&#8212;&#8201;use <code>decodeTimestamp(Timestamp, Calendar, boolean)</code></p>
</li>
<li>
<p><code>decodeTimestamp(byte[]</code>)&#8201;&#8212;&#8201;use <code>decodeTimestampCalendar(byte[], Calendar)</code></p>
</li>
<li>
<p><code>encodeTime(Time)</code>&#8201;&#8212;&#8201;use <code>encodeTimeCalendar(Time, Calendar)</code></p>
</li>
<li>
<p><code>decodeTime(byte[])</code>&#8201;&#8212;&#8201;use <code>decodeTimeCalendar(byte[], Calendar)</code></p>
</li>
<li>
<p><code>encodeDate(Date)</code>&#8201;&#8212;&#8201;use <code>encodeDateCalendar(Date, Calendar)</code></p>
</li>
<li>
<p><code>decodeDate(byte[])</code>&#8201;&#8212;&#8201;use <code>decodeDateCalendar(byte[], Calendar)</code></p>
</li>
<li>
<p><code>encodeLocalTime(int, int, int, int)</code>&#8201;&#8212;&#8201;use <code>encodeLocalTime(LocalTime)</code></p>
</li>
<li>
<p><code>encodeLocalDate(int, int, int)</code>&#8201;&#8212;&#8201;use <code>encodeLocalDate(LocalDate)</code></p>
</li>
<li>
<p><code>encodeLocalDateTime(int, int, int, int, int, int, int)</code>&#8201;&#8212;&#8201;use <code>encodeLocalDateTime(LocalDateTime)</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>V10Statement</code></p>
<div class="ulist">
<ul>
<li>
<p><code>sendInfoSql(byte[], int)</code>&#8201;&#8212;&#8201;use <code>getInfo(int, byte[], int)</code> (which sends and receives)</p>
</li>
<li>
<p><code>processInfoSqlResponse(GenericResponse)</code>&#8201;&#8212;&#8201;use <code>GenericResponse.getData()</code></p>
</li>
<li>
<p><code>writeSqlData(RowDescriptor, RowValue)</code>&#8201;&#8212;&#8201;use <code>writeSqlData(RowDescriptor, RowValue, boolean)</code>, with the third parameter <code>true</code> for the equivalent behaviour</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>StatementListener.allRowsFetched(FbStatement)</code>&#8201;&#8212;&#8201;use <code>afterLast(FbStatement)</code></p>
</li>
<li>
<p><code>AbstractFbStatement</code></p>
<div class="ulist">
<ul>
<li>
<p><code>setAllRowsFetched(boolean)</code>&#8201;&#8212;&#8201;use <code>setAfterLast()</code></p>
</li>
<li>
<p><code>isAllRowsFetched()</code>&#8201;&#8212;&#8201;<code>isAfterLast()</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>FbWireOperations.readSingleResponse</code>&#8201;&#8212;&#8201;use <code>FbWireOperations.readResponse</code></p>
<div class="paragraph">
<p>Contrary to <code>readSingleResponse</code>, <code>readResponse</code> throws the <code>SQLException</code> reported in a <code>GenericResponse</code></p>
</div>
</li>
<li>
<p><code>FBWorkaroundStringField.setTrimString</code>&#8201;&#8212;&#8201;use <code>StringTrimmable.setTrimTrailing</code> (implemented by <code>FBStringField</code> and subclasses).
The replacement only trims trailing spaces.</p>
</li>
<li>
<p><code>FBDatabaseMetaData</code></p>
<div class="ulist">
<ul>
<li>
<p><code>getWantsSystemTables(String[])</code>&#8201;&#8212;&#8201;there is no replacement</p>
</li>
<li>
<p><code>getWantsTables(String[])</code>&#8201;&#8212;&#8201;there is no replacement</p>
</li>
<li>
<p><code>getWantsViews(String[])</code>&#8201;&#8212;&#8201;there is no replacement</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>RowValueBuilder</code> was moved to another package and will be made package private in Jaybird 6</p>
</li>
<li>
<p><code>FBBlob.getGdsHelper()</code> has been removed</p>
</li>
<li>
<p>constructor <code>BlobLengthProcessor(FbBlob)</code> was replaced by a no-arg constructor</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="breaking-changes-statement-state"><a class="anchor" href="#breaking-changes-statement-state"></a>8.10.1. Additional statement state <code>PREPARING</code></h4>
<div class="paragraph">
<p>To be able to detect preparing a new statement text on a statement handle, the state <code>PREPARING</code> has been added to <code>org.firebirdsql.gds.ng.StatementState</code>.
The state transition <code>ALLOCATED</code> &#8594; <code>PREPARED</code> is no longer valid, and must now be <code>ALLOCATED</code> &#8594; <code>PREPARING</code> &#8594; <code>PREPARED</code>.</p>
</div>
<div class="paragraph">
<p>Custom statement implementations need to add a state transition to <code>PREPARING</code> before preparing a new statement text.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="breaking-changes-unlikely"><a class="anchor" href="#breaking-changes-unlikely"></a>8.11. Unlikely breaking changes</h3>
<div class="paragraph">
<p>The following changes might cause issues, though we think this is unlikely:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The trim behaviour of metadata queries (e.g. for <code>DatabaseMetaData</code>) was changed.
Previously it used <code>stringValue.trim()</code> <em>only</em> through <code>ResultSet.getString(..)</code>.
This was changed to use a custom trim to trim only trailing spaces, but only for (non-<code>OCTETS</code>) <code>CHAR</code>, <code>VARCHAR</code>, <code>BLOB SUB_TYPE TEXT</code>.
This trim is now applied for code paths calling <code>getString()</code> on the underlying field.</p>
<div class="paragraph">
<p>This change can have two potentially breaking effects:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Values from metadata queries can now have leading spaces, where previously those were removed</p>
</li>
<li>
<p>Some&#8201;&#8212;&#8201;but not all&#8201;&#8212;&#8201;metadata <code>ResultSet</code>s would previously return the untrimmed value through <code>getObject(..)</code>, but now return the trimmed value.</p>
</li>
</ol>
</div>
</li>
<li>
<p><code>CallableStatement.getString</code>&#8201;&#8212;&#8201;in Jaybird 3, 4.0.0 - 4.0.8, and 5.0.0&#8201;&#8212;&#8201;and <code>CallableStatement.getObject</code>&#8201;&#8212;&#8201;in Jaybird 5.0.0&#8201;&#8212;&#8201;would incorrectly trim string values.</p>
</li>
<li>
<p>Setting a string on a <code>PreparedStatement</code>, or updatable <code>ResultSet</code>, had a weird boundary check that tried to exploit a benign buffer overflow if the value started and/or ended with &#8220;<code>%</code>&#8221;, and was one or two bytes too long.
This odd boundary check has been removed, and will now throw a <code>DataTruncation</code> if the byte length is longer than the declared length (in bytes) of the field.
Previously, in Jaybird 3.0 and 4.0, this had the following effects:</p>
<div class="ulist">
<ul>
<li>
<p>For pure Java, this would throw a &#8220;string truncation error&#8221; on execute</p>
</li>
<li>
<p>For native/embedded, it would be silently accepted with truncation of the value (one byte too long), or throw an <code>IndexOutOfBoundsException</code> (two bytes too long)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="breaking-changes-for-jaybird-6"><a class="anchor" href="#breaking-changes-for-jaybird-6"></a>8.12. Breaking changes for Jaybird 6</h3>
<div class="paragraph">
<p>With Jaybird 6 the following breaking changes will be introduced.</p>
</div>
<div class="sect3">
<h4 id="dropping-support-firebird-25"><a class="anchor" href="#dropping-support-firebird-25"></a>8.12.1. Dropping support for Firebird 2.5</h4>
<div class="paragraph">
<p>Jaybird 6 will drop support for Firebird 2.5 (see also <a href="https://github.com/FirebirdSQL/jaybird/tree/master/devdoc/jdp/jdp-2021-03-drop-firebird-2-5-support.md" target="_blank" rel="noopener">jdp-2021-03: Drop Firebird 2.5 support</a>).
In general, we expect the driver to remain functional, but chances are certain metadata&#8201;&#8212;&#8201;e.g. <code>DatabaseMetaData</code>&#8201;&#8212;&#8201;will break if we use features introduced in newer versions.</p>
</div>
<div class="paragraph">
<p>Wire protocol versions for Firebird 2.5 and earlier will be disabled by default to disallow connection for the pure Java protocol.
An option is available to re-enable unsupported wire protocol versions.</p>
</div>
</div>
<div class="sect3">
<h4 id="dropping-support-for-java-8-11"><a class="anchor" href="#dropping-support-for-java-8-11"></a>8.12.2. Dropping support for Java 8 and 11</h4>
<div class="paragraph">
<p>Jaybird 6 will drop support for Java 8 and 11, making Java 17 the baseline version (see also <a href="https://github.com/FirebirdSQL/jaybird/tree/master/devdoc/jdp/jdp-2022-03-java-17-minimum-version.md" target="_blank" rel="noopener">jdp-2022-03: Java 17 minimum version</a>).</p>
</div>
<div class="paragraph">
<p>Jaybird 5 will serve as a form of &#8220;long-term support&#8221; for Java 8 and 11, with maintenance releases at least until the release of Jaybird 7.</p>
</div>
</div>
<div class="sect3">
<h4 id="_dropping_support_for_ooremote_openofficelibreoffice_driver"><a class="anchor" href="#_dropping_support_for_ooremote_openofficelibreoffice_driver"></a>8.12.3. Dropping support for OOREMOTE (OpenOffice/LibreOffice driver)</h4>
<div class="paragraph">
<p>The OOREMOTE protocol (JDBC URL prefix <code>jdbc:firebird:oo</code> and <code>jdbc:firebirdsql:oo</code>) has been deprecated in Jaybird 5 and will be removed in Jaybird 6.</p>
</div>
<div class="paragraph">
<p>See also <a href="https://github.com/FirebirdSQL/jaybird/tree/master/devdoc/jdp/jdp-2022-04-deprecate-ooremote.md" target="_blank" rel="noopener">jdp-2022-04: Deprecate OOREMOTE (OpenOffice/LibreOffice driver) for removal</a>.</p>
</div>
<div class="paragraph">
<p>The recommended replacement is to use LibreOffice and the builtin &#8220;Firebird External&#8221; connection option in LibreOffice Base, instead of the &#8220;JDBC&#8221; option with Jaybird on the classpath of LibreOffice.</p>
</div>
</div>
<div class="sect3">
<h4 id="removal-of-deprecated-classes-packages-and-methods-6"><a class="anchor" href="#removal-of-deprecated-classes-packages-and-methods-6"></a>8.12.4. Removal of deprecated classes, packages and methods</h4>
<div class="sect4">
<h5 id="removal-of-deprecated-methods-6"><a class="anchor" href="#removal-of-deprecated-methods-6"></a>Removal of deprecated methods</h5>
<div class="paragraph">
<p>The following methods will be removed in Jaybird 6:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>FirebirdConnectionProperties</code><br>
Changes to the <code>FirebirdConnectionProperties</code> interface affect the data source implementations in <code>org.firebirdsql.ds</code>, and <code>FBManagedConnectionFactory</code>.</p>
<div class="ulist">
<ul>
<li>
<p><code>getDatabase()</code> and all its implementations, use <code>DatabaseConnectionProperties.getDatabaseName()</code></p>
</li>
<li>
<p><code>setDatabase(String)</code> and all its implementations, use <code>DatabaseConnectionProperties.setDatabaseName(String)</code></p>
</li>
<li>
<p><code>getNonStandardProperty(String)</code> and all its implementations, use <code>BaseProperties.getProperty(String)</code></p>
</li>
<li>
<p><code>setNonStandardProperty(String,String)</code> and all its implementations, use <code>BaseProperties.setProperty(String,String)</code></p>
</li>
<li>
<p><code>getBuffersNumber</code> and all its implementations, use <code>DatabaseConnectionProperties.getPageCacheSize</code></p>
</li>
<li>
<p><code>setBuffersNumber</code> and all its implementations, use <code>DatabaseConnectionProperties.setPageCacheSize</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>IConnectionProperties</code></p>
<div class="ulist">
<ul>
<li>
<p><code>short getConnectionDialect()</code> and all its implementations, use <code>int DatabaseConnectionProperties.getSqlDialect()</code></p>
</li>
<li>
<p><code>setConnectionDialect(short)</code>, and all its implementations, use <code>DatabaseConnectionProperties.setSqlDialect(int)</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>FBSimpleDataSource.get/setBlobBufferLength</code>, use <code>get/setBlobBufferSize</code></p>
</li>
<li>
<p><code>EventManager</code></p>
<div class="ulist">
<ul>
<li>
<p><code>get/setHost</code>, use <code>get/setServerName</code></p>
</li>
<li>
<p><code>get/setPort</code>, use <code>get/setPortNumber</code></p>
</li>
<li>
<p><code>get/setDatabase</code>, use <code>get/setDatabaseName</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>GDSFactory.getJdbcUrl(GDSType, String)</code>, use <code>GDSFactory.getJdbcUrl(GDSType, DatabaseConnectionProperties)</code></p>
</li>
<li>
<p><code>FBManagedConnection.getDatabase()</code>, there is no direct replacement, but the information can be obtained from the connection properties</p>
</li>
<li>
<p><code>GDSHelper.getIscEncoding()</code>;
there is no replacement</p>
</li>
<li>
<p><code>FirebirdConnection.getIscEncoding</code>;
there is no replacement</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="removal-of-deprecated-classes-6"><a class="anchor" href="#removal-of-deprecated-classes-6"></a>Removal of deprecated classes</h5>
<div class="paragraph">
<p>The following classes have been deprecated and will be removed in Jaybird 6:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.firebirdsql.gds.ng.listeners.DefaultDatabaseListener</code>&#8201;&#8212;&#8201;implementing <code>DatabaseListener</code> is now sufficient as all methods in the interface now have a default implementation that does nothing</p>
</li>
<li>
<p><code>org.firebirdsql.gds.ng.listeners.DefaultStatementListener</code>&#8201;&#8212;&#8201;implementing <code>StatementListener</code> is now sufficient as all methods in the interface now have a default implementation that does nothing</p>
</li>
<li>
<p><code>org.firebirdsql.jdbc.FBConnectionDefaults</code>, its replacement, <code>org.firebirdsql.jaybird.props.PropertyConstants</code>, is considered internal API</p>
</li>
<li>
<p><code>org.firebirdsql.gds.ng.DatatypeCoder.RawDateTimeStruct</code> (semi-internal API)&#8201;&#8212;&#8201;use one of the <code>java.time</code> classes instead</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="removal-of-deprecated-constants-6"><a class="anchor" href="#removal-of-deprecated-constants-6"></a>8.12.5. Removal of deprecated constants</h4>
<div class="paragraph">
<p>The following constants have been deprecated and will be removed in Jaybird 6:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All public String constants in <code>FBDriver</code>.
The replacement for most constants can be found in <code>org.firebirdsql.jaybird.props.PropertyNames</code>, though some will be removed without replacement.</p>
</li>
<li>
<p><code>ISCConstants.isc_dpb_*</code> that are DPB items, the replacement is the constant with the same name in <code>org.firebirdsql.jaybird.fb.constants.DpbItems</code>.</p>
</li>
<li>
<p><code>ISCConstants.isc_tpb_*</code> that are TPB items, the replacement is the constant with the same name in <code>org.firebirdsql.jaybird.fb.constants.TpbItems</code>.</p>
</li>
<li>
<p><code>ISCConstants.isc_spb_*</code> that are SPB items, the replacement is the constant with the same name in <code>org.firebirdsql.jaybird.fb.constants.SpbItems</code>.</p>
</li>
<li>
<p><code>ISCConstants.isc_bpb_*</code> that are BPB items, the replacement is the constant with the same name in <code>org.firebirdsql.jaybird.fb.constants.BpbItems</code>.</p>
</li>
<li>
<p><code>ISCConstants.isc_bpb_type_segmented</code> and <code>ISCConstants.isc_bpb_type_stream</code>, the replacement is the constant with the same name in <code>org.firebirdsql.jaybird.fb.constants.BpbItems.TypeValues</code></p>
</li>
<li>
<p>All constants in <code>DatabaseParameterBuffer</code>, use the equivalent constant from <code>org.firebirdsql.jaybird.fb.constants.DpbItems</code>.</p>
</li>
<li>
<p>All constants in <code>TransactionParameterBuffer</code>, use the equivalent constant from <code>org.firebirdsql.jaybird.fb.constants.TpbItems</code>.</p>
</li>
<li>
<p>All constants in <code>ServiceParameterBuffer</code>, use the equivalent constant from <code>org.firebirdsql.jaybird.fb.constants.SpbItems</code>.</p>
</li>
<li>
<p>All constants in <code>BlobParameterBuffer</code>, use the equivalent constant from <code>org.firebirdsql.jaybird.fb.constants.BpbItems</code> and <code>org.firebirdsql.jaybird.fb.constants.BpbItems.TypeValues</code></p>
</li>
<li>
<p>All <code>TPB_*</code> constants in <code>FirebirdConnection</code>, use the equivalent constant from <code>org.firebirdsql.jaybird.fb.constants.TpbItems</code>.</p>
</li>
<li>
<p>All public String constants in <code>org.firebirdsql.jdbc.FBConnectionProperties</code>.
The replacement for most constants can be found in <code>org.firebirdsql.jaybird.props.PropertyNames</code>, though some will be removed without replacement.</p>
</li>
<li>
<p><code>GDSHelper.DEFAULT_BLOB_BUFFER_SIZE</code>, its replacement, <code>org.firebirdsql.jaybird.props.PropertyConstants.DEFAULT_BLOB_BUFFER_SIZE</code>, is considered internal API</p>
</li>
<li>
<p>All constants in <code>IConnectionProperties</code>, use the equivalent constant from <code>org.firebirdsql.jaybird.props.PropertyConstants</code>, though this class is considered internal API</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="compatibility-notes"><a class="anchor" href="#compatibility-notes"></a>9. Compatibility notes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="type-2-native-and-embedded-driver"><a class="anchor" href="#type-2-native-and-embedded-driver"></a>9.1. Type 2 (native) and embedded driver</h3>
<div class="paragraph">
<p>Jaybird uses JNA (Java Native Access) to access the client library.
If you want to use the Type 2 driver, or Firebird embedded, then you need to include <code>jna-5.15.0.jar</code> on the classpath.</p>
</div>
<div class="paragraph">
<p>When using Maven, you need to specify the dependency on JNA yourself, as we don&#8217;t depend on it by default (it is specified as an optional dependency):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;
    &lt;artifactId&gt;jna&lt;/artifactId&gt;
    &lt;version&gt;5.15.0&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>fbclient.dll</code>, <code>fbembed.dll</code>, <code>libfbclient.so</code>, or <code>libfbembed.so</code> need to be on the path, or the location needs to be specified in the system property <code>jna.library.path</code> (as an absolute or relative path to the directory/directories containing the library file(s)).</p>
</div>
<div class="paragraph">
<p>For Windows and Linux, you can add the <code>org.firebirdsql.jdbc:fbclient</code> dependency on your classpath to provide the native libraries for the <code>native</code> and <code>local</code> protocol.
Be aware that this dependency does not support <code>embedded</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;
    &lt;artifactId&gt;fbclient&lt;/artifactId&gt;
    &lt;version&gt;5.0.1.1&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about this library, see <a href="https://github.com/mrotteveel/jaybird-fbclient" class="bare" target="_blank" rel="noopener">https://github.com/mrotteveel/jaybird-fbclient</a>.</p>
</div>
<div class="paragraph">
<p>In Jaybird 6 we will move the Type 2 support to a separate library.
In the future we may provide JARs with the embedded libraries of a specific Firebird version.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-10-16 15:13:04 +0200
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js"></script>
<script>
    // https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.12.0/tocbot.min.js
    !function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){(function(o){var l,r,i;!function(o,s){r=[],l=function(e){"use strict";var t,o,l,r=n(2),i={},s={},c=n(3),a=n(4),u=n(5),d=!!(e&&e.document&&e.document.querySelector&&e.addEventListener);if("undefined"==typeof window&&!d)return;var f=Object.prototype.hasOwnProperty;function m(e,t,n){var o,l;return t||(t=250),function(){var r=n||this,i=+new Date,s=arguments;o&&i<o+t?(clearTimeout(l),l=setTimeout(function(){o=i,e.apply(r,s)},t)):(o=i,e.apply(r,s))}}return s.destroy=function(){if(!i.skipRendering)try{document.querySelector(i.tocSelector).innerHTML=""}catch(e){console.warn("Element not found: "+i.tocSelector)}i.scrollContainer&&document.querySelector(i.scrollContainer)?(document.querySelector(i.scrollContainer).removeEventListener("scroll",this._scrollListener,!1),document.querySelector(i.scrollContainer).removeEventListener("resize",this._scrollListener,!1),t&&document.querySelector(i.scrollContainer).removeEventListener("click",this._clickListener,!1)):(document.removeEventListener("scroll",this._scrollListener,!1),document.removeEventListener("resize",this._scrollListener,!1),t&&document.removeEventListener("click",this._clickListener,!1))},s.init=function(e){if(d&&(i=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)f.call(n,o)&&(e[o]=n[o])}return e}(r,e||{}),this.options=i,this.state={},i.scrollSmooth&&(i.duration=i.scrollSmoothDuration,i.offset=i.scrollSmoothOffset,s.scrollSmooth=n(6).initSmoothScrolling(i)),t=c(i),o=a(i),this._buildHtml=t,this._parseContent=o,s.destroy(),null!==(l=o.selectHeadings(i.contentSelector,i.headingSelector)))){var h=o.nestHeadingsArray(l).nest;i.skipRendering||t.render(i.tocSelector,h),this._scrollListener=m(function(e){t.updateToc(l),!i.disableTocScrollSync&&u(i);var n=e&&e.target&&e.target.scrollingElement&&0===e.target.scrollingElement.scrollTop;(e&&(0===e.eventPhase||null===e.currentTarget)||n)&&(t.updateToc(l),i.scrollEndCallback&&i.scrollEndCallback(e))},i.throttleTimeout),this._scrollListener(),i.scrollContainer&&document.querySelector(i.scrollContainer)?(document.querySelector(i.scrollContainer).addEventListener("scroll",this._scrollListener,!1),document.querySelector(i.scrollContainer).addEventListener("resize",this._scrollListener,!1)):(document.addEventListener("scroll",this._scrollListener,!1),document.addEventListener("resize",this._scrollListener,!1));var p=null;return this._clickListener=m(function(e){i.scrollSmooth&&t.disableTocAnimation(e),t.updateToc(l),p&&clearTimeout(p),p=setTimeout(function(){t.enableTocAnimation()},i.scrollSmoothDuration)},i.throttleTimeout),i.scrollContainer&&document.querySelector(i.scrollContainer)?document.querySelector(i.scrollContainer).addEventListener("click",this._clickListener,!1):document.addEventListener("click",this._clickListener,!1),this}},s.refresh=function(e){s.destroy(),s.init(e||this.options)},e.tocbot=s,s}(o),void 0===(i="function"==typeof l?l.apply(t,r):l)||(e.exports=i)}(void 0!==o?o:this.window||this.global)}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,onClick:function(e){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1}},function(e,t){e.exports=function(e){var t=[].forEach,n=[].some,o=document.body,l=!0,r=" ";function i(n,o){var l=o.appendChild(function(n){var o=document.createElement("li"),l=document.createElement("a");e.listItemClass&&o.setAttribute("class",e.listItemClass);e.onClick&&(l.onclick=e.onClick);e.includeHtml&&n.childNodes.length?t.call(n.childNodes,function(e){l.appendChild(e.cloneNode(!0))}):l.textContent=n.textContent;return l.setAttribute("href",e.basePath+"#"+n.id),l.setAttribute("class",e.linkClass+r+"node-name--"+n.nodeName+r+e.extraLinkClasses),o.appendChild(l),o}(n));if(n.children.length){var c=s(n.isCollapsed);n.children.forEach(function(e){i(e,c)}),l.appendChild(c)}}function s(t){var n=e.orderedList?"ol":"ul",o=document.createElement(n),l=e.listClass+r+e.extraListClasses;return t&&(l+=r+e.collapsibleClass,l+=r+e.isCollapsedClass),o.setAttribute("class",l),o}return{enableTocAnimation:function(){l=!0},disableTocAnimation:function(t){var n=t.target||t.srcElement;"string"==typeof n.className&&-1!==n.className.indexOf(e.linkClass)&&(l=!1)},render:function(e,t){var n=s(!1);t.forEach(function(e){i(e,n)});var o=document.querySelector(e);if(null!==o)return o.firstChild&&o.removeChild(o.firstChild),0===t.length?o:o.appendChild(n)},updateToc:function(i){var s;s=e.scrollContainer&&document.querySelector(e.scrollContainer)?document.querySelector(e.scrollContainer).scrollTop:document.documentElement.scrollTop||o.scrollTop,e.positionFixedSelector&&function(){var t;t=e.scrollContainer&&document.querySelector(e.scrollContainer)?document.querySelector(e.scrollContainer).scrollTop:document.documentElement.scrollTop||o.scrollTop;var n=document.querySelector(e.positionFixedSelector);"auto"===e.fixedSidebarOffset&&(e.fixedSidebarOffset=document.querySelector(e.tocSelector).offsetTop),t>e.fixedSidebarOffset?-1===n.className.indexOf(e.positionFixedClass)&&(n.className+=r+e.positionFixedClass):n.className=n.className.split(r+e.positionFixedClass).join("")}();var c,a=i;if(l&&null!==document.querySelector(e.tocSelector)&&a.length>0){n.call(a,function(t,n){return function t(n){var o=0;return n!==document.querySelector(e.contentSelector&&null!=n)&&(o=n.offsetTop,e.hasInnerContainers&&(o+=t(n.offsetParent))),o}(t)>s+e.headingsOffset+10?(c=a[0===n?n:n-1],!0):n===a.length-1?(c=a[a.length-1],!0):void 0});var u=document.querySelector(e.tocSelector).querySelectorAll("."+e.linkClass);t.call(u,function(t){t.className=t.className.split(r+e.activeLinkClass).join("")});var d=document.querySelector(e.tocSelector).querySelectorAll("."+e.listItemClass);t.call(d,function(t){t.className=t.className.split(r+e.activeListItemClass).join("")});var f=document.querySelector(e.tocSelector).querySelector("."+e.linkClass+".node-name--"+c.nodeName+'[href="'+e.basePath+"#"+c.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/@])/g,"\\$1")+'"]');-1===f.className.indexOf(e.activeLinkClass)&&(f.className+=r+e.activeLinkClass);var m=f.parentNode;m&&-1===m.className.indexOf(e.activeListItemClass)&&(m.className+=r+e.activeListItemClass);var h=document.querySelector(e.tocSelector).querySelectorAll("."+e.listClass+"."+e.collapsibleClass);t.call(h,function(t){-1===t.className.indexOf(e.isCollapsedClass)&&(t.className+=r+e.isCollapsedClass)}),f.nextSibling&&-1!==f.nextSibling.className.indexOf(e.isCollapsedClass)&&(f.nextSibling.className=f.nextSibling.className.split(r+e.isCollapsedClass).join("")),function t(n){return-1!==n.className.indexOf(e.collapsibleClass)&&-1!==n.className.indexOf(e.isCollapsedClass)?(n.className=n.className.split(r+e.isCollapsedClass).join(""),t(n.parentNode.parentNode)):n}(f.parentNode.parentNode)}}}}},function(e,t){e.exports=function(e){var t=[].reduce;function n(e){return e[e.length-1]}function o(t){if(!(t instanceof window.HTMLElement))return t;if(e.ignoreHiddenElements&&(!t.offsetHeight||!t.offsetParent))return null;var n={id:t.id,children:[],nodeName:t.nodeName,headingLevel:function(e){return+e.nodeName.split("H").join("")}(t),textContent:e.headingLabelCallback?String(e.headingLabelCallback(t.textContent)):t.textContent.trim()};return e.includeHtml&&(n.childNodes=t.childNodes),e.headingObjectCallback?e.headingObjectCallback(n,t):n}return{nestHeadingsArray:function(l){return t.call(l,function(t,l){var r=o(l);return r&&function(t,l){for(var r=o(t),i=r.headingLevel,s=l,c=n(s),a=i-(c?c.headingLevel:0);a>0;)(c=n(s))&&void 0!==c.children&&(s=c.children),a--;i>=e.collapseDepth&&(r.isCollapsed=!0),s.push(r)}(r,t.nest),t},{nest:[]})},selectHeadings:function(t,n){var o=n;e.ignoreSelector&&(o=n.split(",").map(function(t){return t.trim()+":not("+e.ignoreSelector+")"}));try{return document.querySelector(t).querySelectorAll(o)}catch(e){return console.warn("Element not found: "+t),null}}}}},function(e,t){e.exports=function(e){var t=document.querySelector(e.tocSelector);if(t&&t.scrollHeight>t.clientHeight){var n=t.querySelector("."+e.activeListItemClass);n&&(t.scrollTop=n.offsetTop)}}},function(e,t){function n(e,t){var n=window.pageYOffset,o={duration:t.duration,offset:t.offset||0,callback:t.callback,easing:t.easing||d},l=document.querySelector('[id="'+decodeURI(e).split("#").join("")+'"]'),r=typeof e==="string"?o.offset+(e?l&&l.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):e,i=typeof o.duration==="function"?o.duration(r):o.duration,s,c;function a(e){c=e-s;window.scrollTo(0,o.easing(c,n,r,i));if(c<i){requestAnimationFrame(a)}else{u()}}function u(){if(window.scrollTo(0,n+r),"function"==typeof o.callback){o.callback()}}function d(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}requestAnimationFrame(function(e){s=e;a(e)})}t.initSmoothScrolling=function(e){document.documentElement.style;var t=e.duration,o=e.offset,l=location.hash?r(location.href):location.href;function r(e){return e.slice(0,e.lastIndexOf("#"))}!function(){document.body.addEventListener("click",function(i){if(!function(e){return"a"===e.tagName.toLowerCase()&&(e.hash.length>0||"#"===e.href.charAt(e.href.length-1))&&(r(e.href)===l||r(e.href)+"#"===l)}(i.target)||i.target.className.indexOf("no-smooth-scroll")>-1||"#"===i.target.href.charAt(i.target.href.length-2)&&"!"===i.target.href.charAt(i.target.href.length-1)||-1===i.target.className.indexOf(e.linkClass))return;n(i.target.hash,{duration:t,offset:o,callback:function(){!function(e){var t=document.getElementById(e.substring(1));t&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())}(i.target.hash)}})},!1)}()}}]);
</script>
<script>
    /* Tocbot dynamic TOC, based on https://github.com/asciidoctor/asciidoctor/issues/699#issuecomment-321066006 */
    var oldtoc = document.getElementById('toctitle').nextElementSibling;
    var newtoc = document.createElement('div');
    newtoc.setAttribute('id', 'tocbot');
    newtoc.setAttribute('class', 'js-toc');
    oldtoc.parentNode.replaceChild(newtoc, oldtoc);
    tocbot.init({ contentSelector: '#content',
        headingSelector: 'h1, h2, h3, h4',
        ignoreSelector: '.float',
        scrollSmooth: false });
    var handleTocOnResize = function() {
        var width = window.innerWidth
            || document.documentElement.clientWidth
            || document.body.clientWidth;
        if (width < 768) {
            tocbot.refresh({ contentSelector: '#content',
                headingSelector: 'h1, h2, h3, h4',
                ignoreSelector: '.float',
                collapseDepth: 6,
                activeLinkClass: 'ignoreactive',
                throttleTimeout: 1000,
                scrollSmooth: false });
        }
        else {
            tocbot.refresh({ contentSelector: '#content',
                headingSelector: 'h1, h2, h3, h4',
                ignoreSelector: '.float',
                scrollSmooth: false });
        }
    };
    window.addEventListener('resize', handleTocOnResize);
    handleTocOnResize();
</script>
</body>
</html>